!function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function r(){return Object.create(null)}function o(e){e.forEach(n)}function s(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let a;function l(e,t){return e===t||(a||(a=document.createElement("a")),a.href=t,e===a.href)}function c(t,...n){if(null==t){for(const e of n)e(void 0);return e}const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}const h="undefined"!=typeof window;let u=h?()=>window.performance.now():()=>Date.now(),d=h?e=>requestAnimationFrame(e):e;const p=new Set;function g(e){p.forEach((t=>{t.c(e)||(p.delete(t),t.f())})),0!==p.size&&d(g)}function f(e,t){e.appendChild(t)}function m(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function b(e){const t=w("style");return t.textContent="/* empty */",x(m(e),t),t.sheet}function x(e,t){return f(e.head||e,t),t.sheet}function v(e,t,n){e.insertBefore(t,n||null)}function y(e){e.parentNode&&e.parentNode.removeChild(e)}function w(e){return document.createElement(e)}function k(e){return document.createTextNode(e)}function $(){return k(" ")}function E(){return k("")}function T(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function B(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function _(e,t){t=""+t,e.data!==t&&(e.data=t)}function A(e,t){e.value=null==t?"":t}function S(e,t,n,r){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,"")}function C(e,t,n){e.classList.toggle(t,!!n)}class H{is_svg=!1;e=void 0;n=void 0;t=void 0;a=void 0;constructor(e=!1){this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){var r;this.e||(this.is_svg?this.e=(r=t.nodeName,document.createElementNS("http://www.w3.org/2000/svg",r)):this.e=w(11===t.nodeType?"TEMPLATE":t.nodeName),this.t="TEMPLATE"!==t.tagName?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from("TEMPLATE"===this.e.nodeName?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)v(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(y)}}const M=new Map;let I,P=0;function O(e,t,n,r,o,s,i,a=0){const l=16.666/r;let c="{\n";for(let e=0;e<=1;e+=l){const r=t+(n-t)*s(e);c+=100*e+`%{${i(r,1-r)}}\n`}const h=c+`100% {${i(n,1-n)}}\n}`,u=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(h)}_${a}`,d=m(e),{stylesheet:p,rules:g}=M.get(d)||function(e,t){const n={stylesheet:b(t),rules:{}};return M.set(e,n),n}(d,e);g[u]||(g[u]=!0,p.insertRule(`@keyframes ${u} ${h}`,p.cssRules.length));const f=e.style.animation||"";return e.style.animation=`${f?`${f}, `:""}${u} ${r}ms linear ${o}ms 1 both`,P+=1,u}function L(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),o=n.length-r.length;o&&(e.style.animation=r.join(", "),P-=o,P||d((()=>{P||(M.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&y(t)})),M.clear())})))}function R(e){I=e}function N(e){(function(){if(!I)throw new Error("Function called outside component initialization");return I})().$$.on_mount.push(e)}const U=[],D=[];let z=[];const G=[],F=Promise.resolve();let j=!1;function q(){j||(j=!0,F.then(W))}function V(){return q(),F}function Z(e){z.push(e)}const X=new Set;let K,Y=0;function W(){if(0!==Y)return;const e=I;do{try{for(;Y<U.length;){const e=U[Y];Y++,R(e),Q(e.$$)}}catch(e){throw U.length=0,Y=0,e}for(R(null),U.length=0,Y=0;D.length;)D.pop()();for(let e=0;e<z.length;e+=1){const t=z[e];X.has(t)||(X.add(t),t())}z.length=0}while(U.length);for(;G.length;)G.pop()();j=!1,X.clear(),R(e)}function Q(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Z)}}function J(e,t,n){e.dispatchEvent(function(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}(`${t?"intro":"outro"}${n}`))}const ee=new Set;let te;function ne(){te={r:0,c:[],p:te}}function re(){te.r||o(te.c),te=te.p}function oe(e,t){e&&e.i&&(ee.delete(e),e.i(t))}function se(e,t,n,r){if(e&&e.o){if(ee.has(e))return;ee.add(e),te.c.push((()=>{ee.delete(e),r&&(e.d(1),r())})),e.o(t)}else r&&r()}const ie={duration:0};function ae(n,r,i,a){let l,c=r(n,i,{direction:"both"}),h=a?0:1,f=null,m=null,b=null;function x(){b&&L(n,b)}function v(e,t){const n=e.b-h;return t*=Math.abs(n),{a:h,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function y(r){const{delay:s=0,duration:i=300,easing:a=t,tick:y=e,css:w}=c||ie,k={start:u()+s,b:r};r||(k.group=te,te.r+=1),"inert"in n&&(r?void 0!==l&&(n.inert=l):(l=n.inert,n.inert=!0)),f||m?m=k:(w&&(x(),b=O(n,h,r,i,s,a,w)),r&&y(0,1),f=v(k,i),Z((()=>J(n,r,"start"))),function(e){let t;0===p.size&&d(g),new Promise((n=>{p.add(t={c:e,f:n})}))}((e=>{if(m&&e>m.start&&(f=v(m,i),m=null,J(n,f.b,"start"),w&&(x(),b=O(n,h,f.b,f.duration,0,a,c.css))),f)if(e>=f.end)y(h=f.b,1-h),J(n,f.b,"end"),m||(f.b?x():--f.group.r||o(f.group.c)),f=null;else if(e>=f.start){const t=e-f.start;h=f.a+f.d*a(t/f.duration),y(h,1-h)}return!(!f&&!m)})))}return{run(e){s(c)?(K||(K=Promise.resolve(),K.then((()=>{K=null}))),K).then((()=>{c=c({direction:e?"in":"out"}),y(e)})):y(e)},end(){x(),f=m=null}}}function le(e){return void 0!==e?.length?e:Array.from(e)}function ce(e,t){e.d(1),t.delete(e.key)}function he(e,t,n,r,s,i,a,l,c,h,u,d){let p=e.length,g=i.length,f=p;const m={};for(;f--;)m[e[f].key]=f;const b=[],x=new Map,v=new Map,y=[];for(f=g;f--;){const e=d(s,i,f),r=n(e);let o=a.get(r);o?y.push((()=>o.p(e,t))):(o=h(r,e),o.c()),x.set(r,b[f]=o),r in m&&v.set(r,Math.abs(f-m[r]))}const w=new Set,k=new Set;function $(e){oe(e,1),e.m(l,u),a.set(e.key,e),u=e.first,g--}for(;p&&g;){const t=b[g-1],n=e[p-1],r=t.key,o=n.key;t===n?(u=t.first,p--,g--):x.has(o)?!a.has(r)||w.has(r)?$(t):k.has(o)?p--:v.get(r)>v.get(o)?(k.add(r),$(t)):(w.add(o),p--):(c(n,a),p--)}for(;p--;){const t=e[p];x.has(t.key)||c(t,a)}for(;g;)$(b[g-1]);return o(y),b}function ue(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];z.forEach((r=>-1===e.indexOf(r)?t.push(r):n.push(r))),n.forEach((e=>e())),z=t}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function de(t,i,a,l,c,h,u=null,d=[-1]){const p=I;R(t);const g=t.$$={fragment:null,ctx:[],props:h,update:e,not_equal:c,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(p?p.$$.context:[])),callbacks:r(),dirty:d,skip_bound:!1,root:i.target||p.$$.root};u&&u(g.root);let f=!1;if(g.ctx=a?a(t,i.props||{},((e,n,...r)=>{const o=r.length?r[0]:n;return g.ctx&&c(g.ctx[e],g.ctx[e]=o)&&(!g.skip_bound&&g.bound[e]&&g.bound[e](o),f&&function(e,t){-1===e.$$.dirty[0]&&(U.push(e),q(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),n})):[],g.update(),f=!0,o(g.before_update),g.fragment=!!l&&l(g.ctx),i.target){if(i.hydrate){const e=function(e){return Array.from(e.childNodes)}(i.target);g.fragment&&g.fragment.l(e),e.forEach(y)}else g.fragment&&g.fragment.c();i.intro&&oe(t.$$.fragment),function(e,t,r){const{fragment:i,after_update:a}=e.$$;i&&i.m(t,r),Z((()=>{const t=e.$$.on_mount.map(n).filter(s);e.$$.on_destroy?e.$$.on_destroy.push(...t):o(t),e.$$.on_mount=[]})),a.forEach(Z)}(t,i.target,i.anchor),W()}R(p)}let pe;function ge(e,t,n,r){const o=n[e]?.type;if(t="Boolean"===o&&"boolean"!=typeof t?null!=t:t,!r||!n[e])return t;if("toAttribute"===r)switch(o){case"Object":case"Array":return null==t?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return null==t?null:t;default:return t}else switch(o){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":default:return t;case"Number":return null!=t?+t:t}}"function"==typeof HTMLElement&&(pe=class extends HTMLElement{$$ctor;$$s;$$c;$$cn=!1;$$d={};$$r=!1;$$p_d={};$$l={};$$l_u=new Map;constructor(e,t,n){super(),this.$$ctor=e,this.$$s=t,n&&this.attachShadow({mode:"open"})}addEventListener(e,t,n){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(t),this.$$c){const n=this.$$c.$on(e,t);this.$$l_u.set(t,n)}super.addEventListener(e,t,n)}removeEventListener(e,t,n){if(super.removeEventListener(e,t,n),this.$$c){const e=this.$$l_u.get(t);e&&(e(),this.$$l_u.delete(t))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){if(await Promise.resolve(),!this.$$cn||this.$$c)return;function e(e){return()=>{let t;return{c:function(){t=w("slot"),"default"!==e&&B(t,"name",e)},m:function(e,n){v(e,t,n)},d:function(e){e&&y(t)}}}}const t={},n=function(e){const t={};return e.childNodes.forEach((e=>{t[e.slot||"default"]=!0})),t}(this);for(const o of this.$$s)o in n&&(t[o]=[e(o)]);for(const s of this.attributes){const i=this.$$g_p(s.name);i in this.$$d||(this.$$d[i]=ge(i,s.value,this.$$p_d,"toProp"))}for(const a in this.$$p_d)a in this.$$d||void 0===this[a]||(this.$$d[a]=this[a],delete this[a]);this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:{...this.$$d,$$slots:t,$$scope:{ctx:[]}}});const r=()=>{this.$$r=!0;for(const e in this.$$p_d)if(this.$$d[e]=this.$$c.$$.ctx[this.$$c.$$.props[e]],this.$$p_d[e].reflect){const t=ge(e,this.$$d[e],this.$$p_d,"toAttribute");null==t?this.removeAttribute(this.$$p_d[e].attribute||e):this.setAttribute(this.$$p_d[e].attribute||e,t)}this.$$r=!1};this.$$c.$$.after_update.push(r),r();for(const l in this.$$l)for(const c of this.$$l[l]){const h=this.$$c.$on(l,c);this.$$l_u.set(c,h)}this.$$l={}}}attributeChangedCallback(e,t,n){this.$$r||(e=this.$$g_p(e),this.$$d[e]=ge(e,n,this.$$p_d,"toProp"),this.$$c?.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then((()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$c=void 0)}))}$$g_p(e){return Object.keys(this.$$p_d).find((t=>this.$$p_d[t].attribute===e||!this.$$p_d[t].attribute&&t.toLowerCase()===e))||e}});class fe{$$=void 0;$$set=void 0;$destroy(){ue(this,1),this.$destroy=e}$on(t,n){if(!s(n))return e;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const e=r.indexOf(n);-1!==e&&r.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const me=[];function be(t,n=e){let r;const o=new Set;function s(e){if(i(t,e)&&(t=e,r)){const e=!me.length;for(const e of o)e[1](),me.push(e,t);if(e){for(let e=0;e<me.length;e+=2)me[e][0](me[e+1]);me.length=0}}}function a(e){s(e(t))}return{set:s,update:a,subscribe:function(i,l=e){const c=[i,l];return o.add(c),1===o.size&&(r=n(s,a)||e),i(t),()=>{o.delete(c),0===o.size&&r&&(r(),r=null)}}}}function xe(t,n,r){const i=!Array.isArray(t),a=i?[t]:t;if(!a.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const l=n.length<2;return h=(t,r)=>{let h=!1;const u=[];let d=0,p=e;const g=()=>{if(d)return;p();const o=n(i?u[0]:u,t,r);l?t(o):p=s(o)?o:e},f=a.map(((e,t)=>c(e,(e=>{u[t]=e,d&=~(1<<t),h&&g()}),(()=>{d|=1<<t}))));return h=!0,g(),function(){o(f),p(),h=!1}},{subscribe:be(r,h).subscribe};var h}function ve(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ye=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===we}(e)}(e)};var we="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function ke(e,t){return!1!==t.clone&&t.isMergeableObject(e)?_e((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function $e(e,t,n){return e.concat(t).map((function(e){return ke(e,n)}))}function Ee(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function Te(e,t){try{return t in e}catch(e){return!1}}function Be(e,t,n){var r={};return n.isMergeableObject(e)&&Ee(e).forEach((function(t){r[t]=ke(e[t],n)})),Ee(t).forEach((function(o){(function(e,t){return Te(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(Te(e,o)&&n.isMergeableObject(t[o])?r[o]=function(e,t){if(!t.customMerge)return _e;var n=t.customMerge(e);return"function"==typeof n?n:_e}(o,n)(e[o],t[o],n):r[o]=ke(t[o],n))})),r}function _e(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||$e,n.isMergeableObject=n.isMergeableObject||ye,n.cloneUnlessOtherwiseSpecified=ke;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):Be(e,t,n):ke(t,n)}_e.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return _e(e,n,t)}),{})};var Ae=ve(_e),Se=function(e,t){return Se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Se(e,t)};function Ce(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Se(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var He=function(){return He=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},He.apply(this,arguments)};function Me(e,t,n){if(n||2===arguments.length)for(var r,o=0,s=t.length;o<s;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function Ie(e,t){var n=t&&t.cache?t.cache:Fe,r=t&&t.serializer?t.serializer:ze;return(t&&t.strategy?t.strategy:Re)(e,{cache:n,serializer:r})}function Pe(e,t,n,r){var o,s=null==(o=r)||"number"==typeof o||"boolean"==typeof o?r:n(r),i=t.get(s);return void 0===i&&(i=e.call(this,r),t.set(s,i)),i}function Oe(e,t,n){var r=Array.prototype.slice.call(arguments,3),o=n(r),s=t.get(o);return void 0===s&&(s=e.apply(this,r),t.set(o,s)),s}function Le(e,t,n,r,o){return n.bind(t,e,r,o)}function Re(e,t){return Le(e,this,1===e.length?Pe:Oe,t.cache.create(),t.serializer)}"function"==typeof SuppressedError&&SuppressedError;var Ne,Ue,De,ze=function(){return JSON.stringify(arguments)},Ge=function(){function e(){this.cache=Object.create(null)}return e.prototype.get=function(e){return this.cache[e]},e.prototype.set=function(e,t){this.cache[e]=t},e}(),Fe={create:function(){return new Ge}},je={variadic:function(e,t){return Le(e,this,Oe,t.cache.create(),t.serializer)},monadic:function(e,t){return Le(e,this,Pe,t.cache.create(),t.serializer)}};function qe(e){return e.type===Ue.literal}function Ve(e){return e.type===Ue.argument}function Ze(e){return e.type===Ue.number}function Xe(e){return e.type===Ue.date}function Ke(e){return e.type===Ue.time}function Ye(e){return e.type===Ue.select}function We(e){return e.type===Ue.plural}function Qe(e){return e.type===Ue.pound}function Je(e){return e.type===Ue.tag}function et(e){return!(!e||"object"!=typeof e||e.type!==De.number)}function tt(e){return!(!e||"object"!=typeof e||e.type!==De.dateTime)}!function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(Ne||(Ne={})),function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(Ue||(Ue={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(De||(De={}));var nt=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,rt=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function ot(e){var t={};return e.replace(rt,(function(e){var n=e.length;switch(e[0]){case"G":t.era=4===n?"long":5===n?"narrow":"short";break;case"y":t.year=2===n?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===n?"long":5===n?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][n-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][n-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][n-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][n-1];break;case"s":t.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),t}var st=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;var it=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,at=/^(@+)?(\+|#+)?[rs]?$/g,lt=/(\*)(0+)|(#+)(0+)|(0+)/g,ct=/^(0+)$/;function ht(e){var t={};return"r"===e[e.length-1]?t.roundingPriority="morePrecision":"s"===e[e.length-1]&&(t.roundingPriority="lessPrecision"),e.replace(at,(function(e,n,r){return"string"!=typeof r?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):"+"===r?t.minimumSignificantDigits=n.length:"#"===n[0]?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+("string"==typeof r?r.length:0)),""})),t}function ut(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function dt(e){var t;if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var n=e.slice(0,2);if("+!"===n?(t.signDisplay="always",e=e.slice(2)):"+?"===n&&(t.signDisplay="exceptZero",e=e.slice(2)),!ct.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function pt(e){var t=ut(e);return t||{}}function gt(e){for(var t={},n=0,r=e;n<r.length;n++){var o=r[n];switch(o.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=o.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=o.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=He(He(He({},t),{notation:"scientific"}),o.options.reduce((function(e,t){return He(He({},e),pt(t))}),{}));continue;case"engineering":t=He(He(He({},t),{notation:"engineering"}),o.options.reduce((function(e,t){return He(He({},e),pt(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(o.options[0]);continue;case"rounding-mode-floor":t.roundingMode="floor";continue;case"rounding-mode-ceiling":t.roundingMode="ceil";continue;case"rounding-mode-down":t.roundingMode="trunc";continue;case"rounding-mode-up":t.roundingMode="expand";continue;case"rounding-mode-half-even":t.roundingMode="halfEven";continue;case"rounding-mode-half-down":t.roundingMode="halfTrunc";continue;case"rounding-mode-half-up":t.roundingMode="halfExpand";continue;case"integer-width":if(o.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");o.options[0].replace(lt,(function(e,n,r,o,s,i){if(n)t.minimumIntegerDigits=r.length;else{if(o&&s)throw new Error("We currently do not support maximum integer digits");if(i)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(ct.test(o.stem))t.minimumIntegerDigits=o.stem.length;else if(it.test(o.stem)){if(o.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");o.stem.replace(it,(function(e,n,r,o,s,i){return"*"===r?t.minimumFractionDigits=n.length:o&&"#"===o[0]?t.maximumFractionDigits=o.length:s&&i?(t.minimumFractionDigits=s.length,t.maximumFractionDigits=s.length+i.length):(t.minimumFractionDigits=n.length,t.maximumFractionDigits=n.length),""}));var s=o.options[0];"w"===s?t=He(He({},t),{trailingZeroDisplay:"stripIfInteger"}):s&&(t=He(He({},t),ht(s)))}else if(at.test(o.stem))t=He(He({},t),ht(o.stem));else{var i=ut(o.stem);i&&(t=He(He({},t),i));var a=dt(o.stem);a&&(t=He(He({},t),a))}}return t}var ft,mt={"001":["H","h"],419:["h","H","hB","hb"],AC:["H","h","hb","hB"],AD:["H","hB"],AE:["h","hB","hb","H"],AF:["H","hb","hB","h"],AG:["h","hb","H","hB"],AI:["H","h","hb","hB"],AL:["h","H","hB"],AM:["H","hB"],AO:["H","hB"],AR:["h","H","hB","hb"],AS:["h","H"],AT:["H","hB"],AU:["h","hb","H","hB"],AW:["H","hB"],AX:["H"],AZ:["H","hB","h"],BA:["H","hB","h"],BB:["h","hb","H","hB"],BD:["h","hB","H"],BE:["H","hB"],BF:["H","hB"],BG:["H","hB","h"],BH:["h","hB","hb","H"],BI:["H","h"],BJ:["H","hB"],BL:["H","hB"],BM:["h","hb","H","hB"],BN:["hb","hB","h","H"],BO:["h","H","hB","hb"],BQ:["H"],BR:["H","hB"],BS:["h","hb","H","hB"],BT:["h","H"],BW:["H","h","hb","hB"],BY:["H","h"],BZ:["H","h","hb","hB"],CA:["h","hb","H","hB"],CC:["H","h","hb","hB"],CD:["hB","H"],CF:["H","h","hB"],CG:["H","hB"],CH:["H","hB","h"],CI:["H","hB"],CK:["H","h","hb","hB"],CL:["h","H","hB","hb"],CM:["H","h","hB"],CN:["H","hB","hb","h"],CO:["h","H","hB","hb"],CP:["H"],CR:["h","H","hB","hb"],CU:["h","H","hB","hb"],CV:["H","hB"],CW:["H","hB"],CX:["H","h","hb","hB"],CY:["h","H","hb","hB"],CZ:["H"],DE:["H","hB"],DG:["H","h","hb","hB"],DJ:["h","H"],DK:["H"],DM:["h","hb","H","hB"],DO:["h","H","hB","hb"],DZ:["h","hB","hb","H"],EA:["H","h","hB","hb"],EC:["h","H","hB","hb"],EE:["H","hB"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],ER:["h","H"],ES:["H","hB","h","hb"],ET:["hB","hb","h","H"],FI:["H"],FJ:["h","hb","H","hB"],FK:["H","h","hb","hB"],FM:["h","hb","H","hB"],FO:["H","h"],FR:["H","hB"],GA:["H","hB"],GB:["H","h","hb","hB"],GD:["h","hb","H","hB"],GE:["H","hB","h"],GF:["H","hB"],GG:["H","h","hb","hB"],GH:["h","H"],GI:["H","h","hb","hB"],GL:["H","h"],GM:["h","hb","H","hB"],GN:["H","hB"],GP:["H","hB"],GQ:["H","hB","h","hb"],GR:["h","H","hb","hB"],GT:["h","H","hB","hb"],GU:["h","hb","H","hB"],GW:["H","hB"],GY:["h","hb","H","hB"],HK:["h","hB","hb","H"],HN:["h","H","hB","hb"],HR:["H","hB"],HU:["H","h"],IC:["H","h","hB","hb"],ID:["H"],IE:["H","h","hb","hB"],IL:["H","hB"],IM:["H","h","hb","hB"],IN:["h","H"],IO:["H","h","hb","hB"],IQ:["h","hB","hb","H"],IR:["hB","H"],IS:["H"],IT:["H","hB"],JE:["H","h","hb","hB"],JM:["h","hb","H","hB"],JO:["h","hB","hb","H"],JP:["H","K","h"],KE:["hB","hb","H","h"],KG:["H","h","hB","hb"],KH:["hB","h","H","hb"],KI:["h","hb","H","hB"],KM:["H","h","hB","hb"],KN:["h","hb","H","hB"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],KW:["h","hB","hb","H"],KY:["h","hb","H","hB"],KZ:["H","hB"],LA:["H","hb","hB","h"],LB:["h","hB","hb","H"],LC:["h","hb","H","hB"],LI:["H","hB","h"],LK:["H","h","hB","hb"],LR:["h","hb","H","hB"],LS:["h","H"],LT:["H","h","hb","hB"],LU:["H","h","hB"],LV:["H","hB","hb","h"],LY:["h","hB","hb","H"],MA:["H","h","hB","hb"],MC:["H","hB"],MD:["H","hB"],ME:["H","hB","h"],MF:["H","hB"],MG:["H","h"],MH:["h","hb","H","hB"],MK:["H","h","hb","hB"],ML:["H"],MM:["hB","hb","H","h"],MN:["H","h","hb","hB"],MO:["h","hB","hb","H"],MP:["h","hb","H","hB"],MQ:["H","hB"],MR:["h","hB","hb","H"],MS:["H","h","hb","hB"],MT:["H","h"],MU:["H","h"],MV:["H","h"],MW:["h","hb","H","hB"],MX:["h","H","hB","hb"],MY:["hb","hB","h","H"],MZ:["H","hB"],NA:["h","H","hB","hb"],NC:["H","hB"],NE:["H"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NI:["h","H","hB","hb"],NL:["H","hB"],NO:["H","h"],NP:["H","h","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],NZ:["h","hb","H","hB"],OM:["h","hB","hb","H"],PA:["h","H","hB","hb"],PE:["h","H","hB","hb"],PF:["H","h","hB"],PG:["h","H"],PH:["h","hB","hb","H"],PK:["h","hB","H"],PL:["H","h"],PM:["H","hB"],PN:["H","h","hb","hB"],PR:["h","H","hB","hb"],PS:["h","hB","hb","H"],PT:["H","hB"],PW:["h","H"],PY:["h","H","hB","hb"],QA:["h","hB","hb","H"],RE:["H","hB"],RO:["H","hB"],RS:["H","hB","h"],RU:["H"],RW:["H","h"],SA:["h","hB","hb","H"],SB:["h","hb","H","hB"],SC:["H","h","hB"],SD:["h","hB","hb","H"],SE:["H"],SG:["h","hb","H","hB"],SH:["H","h","hb","hB"],SI:["H","hB"],SJ:["H"],SK:["H"],SL:["h","hb","H","hB"],SM:["H","h","hB"],SN:["H","h","hB"],SO:["h","H"],SR:["H","hB"],SS:["h","hb","H","hB"],ST:["H","hB"],SV:["h","H","hB","hb"],SX:["H","h","hb","hB"],SY:["h","hB","hb","H"],SZ:["h","hb","H","hB"],TA:["H","h","hb","hB"],TC:["h","hb","H","hB"],TD:["h","H","hB"],TF:["H","h","hB"],TG:["H","hB"],TH:["H","h"],TJ:["H","h"],TL:["H","hB","hb","h"],TM:["H","h"],TN:["h","hB","hb","H"],TO:["h","H"],TR:["H","hB"],TT:["h","hb","H","hB"],TW:["hB","hb","h","H"],TZ:["hB","hb","H","h"],UA:["H","hB","h"],UG:["hB","hb","H","h"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],UY:["h","H","hB","hb"],UZ:["H","hB","h"],VA:["H","h","hB"],VC:["h","hb","H","hB"],VE:["h","H","hB","hb"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],VN:["H","h"],VU:["h","H"],WF:["H","hB"],WS:["h","H"],XK:["H","hB","h"],YE:["h","hB","hb","H"],YT:["H","hB"],ZA:["H","h","hb","hB"],ZM:["h","hb","H","hB"],ZW:["H","h"],"af-ZA":["H","h","hB","hb"],"ar-001":["h","hB","hb","H"],"ca-ES":["H","h","hB"],"en-001":["h","hb","H","hB"],"en-HK":["h","hb","H","hB"],"en-IL":["H","h","hb","hB"],"en-MY":["h","hb","H","hB"],"es-BR":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"gu-IN":["hB","hb","h","H"],"hi-IN":["hB","h","H"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],"ta-IN":["hB","h","hb","H"],"te-IN":["hB","h","H"],"zu-ZA":["H","hB","hb","h"]};function bt(e){var t=e.hourCycle;if(void 0===t&&e.hourCycles&&e.hourCycles.length&&(t=e.hourCycles[0]),t)switch(t){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var n,r=e.language;return"root"!==r&&(n=e.maximize().region),(mt[n||""]||mt[r||""]||mt["".concat(r,"-001")]||mt["001"])[0]}var xt=new RegExp("^".concat(nt.source,"*")),vt=new RegExp("".concat(nt.source,"*$"));function yt(e,t){return{start:e,end:t}}var wt=!!String.prototype.startsWith&&"_a".startsWith("a",1),kt=!!String.fromCodePoint,$t=!!Object.fromEntries,Et=!!String.prototype.codePointAt,Tt=!!String.prototype.trimStart,Bt=!!String.prototype.trimEnd,_t=!!Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},At=!0;try{At="a"===(null===(ft=Lt("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===ft?void 0:ft[0])}catch(e){At=!1}var St,Ct=wt?function(e,t,n){return e.startsWith(t,n)}:function(e,t,n){return e.slice(n,n+t.length)===t},Ht=kt?String.fromCodePoint:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n,r="",o=e.length,s=0;o>s;){if((n=e[s++])>1114111)throw RangeError(n+" is not a valid code point");r+=n<65536?String.fromCharCode(n):String.fromCharCode(55296+((n-=65536)>>10),n%1024+56320)}return r},Mt=$t?Object.fromEntries:function(e){for(var t={},n=0,r=e;n<r.length;n++){var o=r[n],s=o[0],i=o[1];t[s]=i}return t},It=Et?function(e,t){return e.codePointAt(t)}:function(e,t){var n=e.length;if(!(t<0||t>=n)){var r,o=e.charCodeAt(t);return o<55296||o>56319||t+1===n||(r=e.charCodeAt(t+1))<56320||r>57343?o:r-56320+(o-55296<<10)+65536}},Pt=Tt?function(e){return e.trimStart()}:function(e){return e.replace(xt,"")},Ot=Bt?function(e){return e.trimEnd()}:function(e){return e.replace(vt,"")};function Lt(e,t){return new RegExp(e,t)}if(At){var Rt=Lt("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");St=function(e,t){var n;return Rt.lastIndex=t,null!==(n=Rt.exec(e)[1])&&void 0!==n?n:""}}else St=function(e,t){for(var n=[];;){var r=It(e,t);if(void 0===r||zt(r)||Gt(r))break;n.push(r),t+=r>=65536?2:1}return Ht.apply(void 0,n)};var Nt,Ut=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.locale=t.locale,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(e,t,n){for(var r=[];!this.isEOF();){var o=this.char();if(123===o){if((s=this.parseArgument(e,n)).err)return s;r.push(s.val)}else{if(125===o&&e>0)break;if(35!==o||"plural"!==t&&"selectordinal"!==t){if(60===o&&!this.ignoreTag&&47===this.peek()){if(n)break;return this.error(Ne.UNMATCHED_CLOSING_TAG,yt(this.clonePosition(),this.clonePosition()))}if(60===o&&!this.ignoreTag&&Dt(this.peek()||0)){if((s=this.parseTag(e,t)).err)return s;r.push(s.val)}else{var s;if((s=this.parseLiteral(e,t)).err)return s;r.push(s.val)}}else{var i=this.clonePosition();this.bump(),r.push({type:Ue.pound,location:yt(i,this.clonePosition())})}}}return{val:r,err:null}},e.prototype.parseTag=function(e,t){var n=this.clonePosition();this.bump();var r=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:Ue.literal,value:"<".concat(r,"/>"),location:yt(n,this.clonePosition())},err:null};if(this.bumpIf(">")){var o=this.parseMessage(e+1,t,!0);if(o.err)return o;var s=o.val,i=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!Dt(this.char()))return this.error(Ne.INVALID_TAG,yt(i,this.clonePosition()));var a=this.clonePosition();return r!==this.parseTagName()?this.error(Ne.UNMATCHED_CLOSING_TAG,yt(a,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:Ue.tag,value:r,children:s,location:yt(n,this.clonePosition())},err:null}:this.error(Ne.INVALID_TAG,yt(i,this.clonePosition())))}return this.error(Ne.UNCLOSED_TAG,yt(n,this.clonePosition()))}return this.error(Ne.INVALID_TAG,yt(n,this.clonePosition()))},e.prototype.parseTagName=function(){var e,t=this.offset();for(this.bump();!this.isEOF()&&(45===(e=this.char())||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039);)this.bump();return this.message.slice(t,this.offset())},e.prototype.parseLiteral=function(e,t){for(var n=this.clonePosition(),r="";;){var o=this.tryParseQuote(t);if(o)r+=o;else{var s=this.tryParseUnquoted(e,t);if(s)r+=s;else{var i=this.tryParseLeftAngleBracket();if(!i)break;r+=i}}}var a=yt(n,this.clonePosition());return{val:{type:Ue.literal,value:r,location:a},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&(Dt(e=this.peek()||0)||47===e)?null:(this.bump(),"<");var e},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===e||"selectordinal"===e)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var n=this.char();if(39===n){if(39!==this.peek()){this.bump();break}t.push(39),this.bump()}else t.push(n);this.bump()}return Ht.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var n=this.char();return 60===n||123===n||35===n&&("plural"===t||"selectordinal"===t)||125===n&&e>0?null:(this.bump(),Ht(n))},e.prototype.parseArgument=function(e,t){var n=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(Ne.EXPECT_ARGUMENT_CLOSING_BRACE,yt(n,this.clonePosition()));if(125===this.char())return this.bump(),this.error(Ne.EMPTY_ARGUMENT,yt(n,this.clonePosition()));var r=this.parseIdentifierIfPossible().value;if(!r)return this.error(Ne.MALFORMED_ARGUMENT,yt(n,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(Ne.EXPECT_ARGUMENT_CLOSING_BRACE,yt(n,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:Ue.argument,value:r,location:yt(n,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(Ne.EXPECT_ARGUMENT_CLOSING_BRACE,yt(n,this.clonePosition())):this.parseArgumentOptions(e,t,r,n);default:return this.error(Ne.MALFORMED_ARGUMENT,yt(n,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),n=St(this.message,t),r=t+n.length;return this.bumpTo(r),{value:n,location:yt(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,n,r){var o,s=this.clonePosition(),i=this.parseIdentifierIfPossible().value,a=this.clonePosition();switch(i){case"":return this.error(Ne.EXPECT_ARGUMENT_TYPE,yt(s,a));case"number":case"date":case"time":this.bumpSpace();var l=null;if(this.bumpIf(",")){this.bumpSpace();var c=this.clonePosition();if((b=this.parseSimpleArgStyleIfPossible()).err)return b;if(0===(p=Ot(b.val)).length)return this.error(Ne.EXPECT_ARGUMENT_STYLE,yt(this.clonePosition(),this.clonePosition()));l={style:p,styleLocation:yt(c,this.clonePosition())}}if((x=this.tryParseArgumentClose(r)).err)return x;var h=yt(r,this.clonePosition());if(l&&Ct(null==l?void 0:l.style,"::",0)){var u=Pt(l.style.slice(2));if("number"===i)return(b=this.parseNumberSkeletonFromString(u,l.styleLocation)).err?b:{val:{type:Ue.number,value:n,location:h,style:b.val},err:null};if(0===u.length)return this.error(Ne.EXPECT_DATE_TIME_SKELETON,h);var d=u;this.locale&&(d=function(e,t){for(var n="",r=0;r<e.length;r++){var o=e.charAt(r);if("j"===o){for(var s=0;r+1<e.length&&e.charAt(r+1)===o;)s++,r++;var i=1+(1&s),a=s<2?1:3+(s>>1),l=bt(t);for("H"!=l&&"k"!=l||(a=0);a-- >0;)n+="a";for(;i-- >0;)n=l+n}else n+="J"===o?"H":o}return n}(u,this.locale));var p={type:De.dateTime,pattern:d,location:l.styleLocation,parsedOptions:this.shouldParseSkeletons?ot(d):{}};return{val:{type:"date"===i?Ue.date:Ue.time,value:n,location:h,style:p},err:null}}return{val:{type:"number"===i?Ue.number:"date"===i?Ue.date:Ue.time,value:n,location:h,style:null!==(o=null==l?void 0:l.style)&&void 0!==o?o:null},err:null};case"plural":case"selectordinal":case"select":var g=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(Ne.EXPECT_SELECT_ARGUMENT_OPTIONS,yt(g,He({},g)));this.bumpSpace();var f=this.parseIdentifierIfPossible(),m=0;if("select"!==i&&"offset"===f.value){if(!this.bumpIf(":"))return this.error(Ne.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,yt(this.clonePosition(),this.clonePosition()));var b;if(this.bumpSpace(),(b=this.tryParseDecimalInteger(Ne.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Ne.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return b;this.bumpSpace(),f=this.parseIdentifierIfPossible(),m=b.val}var x,v=this.tryParsePluralOrSelectOptions(e,i,t,f);if(v.err)return v;if((x=this.tryParseArgumentClose(r)).err)return x;var y=yt(r,this.clonePosition());return"select"===i?{val:{type:Ue.select,value:n,options:Mt(v.val),location:y},err:null}:{val:{type:Ue.plural,value:n,options:Mt(v.val),offset:m,pluralType:"plural"===i?"cardinal":"ordinal",location:y},err:null};default:return this.error(Ne.INVALID_ARGUMENT_TYPE,yt(s,a))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error(Ne.EXPECT_ARGUMENT_CLOSING_BRACE,yt(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();){switch(this.char()){case 39:this.bump();var n=this.clonePosition();if(!this.bumpUntil("'"))return this.error(Ne.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,yt(n,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var n=[];try{n=function(e){if(0===e.length)throw new Error("Number skeleton cannot be empty");for(var t=[],n=0,r=e.split(st).filter((function(e){return e.length>0}));n<r.length;n++){var o=r[n].split("/");if(0===o.length)throw new Error("Invalid number skeleton");for(var s=o[0],i=o.slice(1),a=0,l=i;a<l.length;a++)if(0===l[a].length)throw new Error("Invalid number skeleton");t.push({stem:s,options:i})}return t}(e)}catch(e){return this.error(Ne.INVALID_NUMBER_SKELETON,t)}return{val:{type:De.number,tokens:n,location:t,parsedOptions:this.shouldParseSkeletons?gt(n):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,n,r){for(var o,s=!1,i=[],a=new Set,l=r.value,c=r.location;;){if(0===l.length){var h=this.clonePosition();if("select"===t||!this.bumpIf("="))break;var u=this.tryParseDecimalInteger(Ne.EXPECT_PLURAL_ARGUMENT_SELECTOR,Ne.INVALID_PLURAL_ARGUMENT_SELECTOR);if(u.err)return u;c=yt(h,this.clonePosition()),l=this.message.slice(h.offset,this.offset())}if(a.has(l))return this.error("select"===t?Ne.DUPLICATE_SELECT_ARGUMENT_SELECTOR:Ne.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,c);"other"===l&&(s=!0),this.bumpSpace();var d=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?Ne.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:Ne.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,yt(this.clonePosition(),this.clonePosition()));var p=this.parseMessage(e+1,t,n);if(p.err)return p;var g=this.tryParseArgumentClose(d);if(g.err)return g;i.push([l,{value:p.val,location:yt(d,this.clonePosition())}]),a.add(l),this.bumpSpace(),l=(o=this.parseIdentifierIfPossible()).value,c=o.location}return 0===i.length?this.error("select"===t?Ne.EXPECT_SELECT_ARGUMENT_SELECTOR:Ne.EXPECT_PLURAL_ARGUMENT_SELECTOR,yt(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!s?this.error(Ne.MISSING_OTHER_CLAUSE,yt(this.clonePosition(),this.clonePosition())):{val:i,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var n=1,r=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(n=-1);for(var o=!1,s=0;!this.isEOF();){var i=this.char();if(!(i>=48&&i<=57))break;o=!0,s=10*s+(i-48),this.bump()}var a=yt(r,this.clonePosition());return o?_t(s*=n)?{val:s,err:null}:this.error(t,a):this.error(e,a)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=It(this.message,e);if(void 0===t)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(Ct(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),n=this.message.indexOf(e,t);return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&zt(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),n=this.message.charCodeAt(t+(e>=65536?2:1));return null!=n?n:null},e}();function Dt(e){return e>=97&&e<=122||e>=65&&e<=90}function zt(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function Gt(e){return e>=33&&e<=35||36===e||e>=37&&e<=39||40===e||41===e||42===e||43===e||44===e||45===e||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||91===e||92===e||93===e||94===e||96===e||123===e||124===e||125===e||126===e||161===e||e>=162&&e<=165||166===e||167===e||169===e||171===e||172===e||174===e||176===e||177===e||182===e||187===e||191===e||215===e||247===e||e>=8208&&e<=8213||e>=8214&&e<=8215||8216===e||8217===e||8218===e||e>=8219&&e<=8220||8221===e||8222===e||8223===e||e>=8224&&e<=8231||e>=8240&&e<=8248||8249===e||8250===e||e>=8251&&e<=8254||e>=8257&&e<=8259||8260===e||8261===e||8262===e||e>=8263&&e<=8273||8274===e||8275===e||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||8608===e||e>=8609&&e<=8610||8611===e||e>=8612&&e<=8613||8614===e||e>=8615&&e<=8621||8622===e||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||8658===e||8659===e||8660===e||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||8968===e||8969===e||8970===e||8971===e||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||9001===e||9002===e||e>=9003&&e<=9083||9084===e||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||9655===e||e>=9656&&e<=9664||9665===e||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||9839===e||e>=9840&&e<=10087||10088===e||10089===e||10090===e||10091===e||10092===e||10093===e||10094===e||10095===e||10096===e||10097===e||10098===e||10099===e||10100===e||10101===e||e>=10132&&e<=10175||e>=10176&&e<=10180||10181===e||10182===e||e>=10183&&e<=10213||10214===e||10215===e||10216===e||10217===e||10218===e||10219===e||10220===e||10221===e||10222===e||10223===e||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||10627===e||10628===e||10629===e||10630===e||10631===e||10632===e||10633===e||10634===e||10635===e||10636===e||10637===e||10638===e||10639===e||10640===e||10641===e||10642===e||10643===e||10644===e||10645===e||10646===e||10647===e||10648===e||e>=10649&&e<=10711||10712===e||10713===e||10714===e||10715===e||e>=10716&&e<=10747||10748===e||10749===e||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||11158===e||e>=11159&&e<=11263||e>=11776&&e<=11777||11778===e||11779===e||11780===e||11781===e||e>=11782&&e<=11784||11785===e||11786===e||11787===e||11788===e||11789===e||e>=11790&&e<=11798||11799===e||e>=11800&&e<=11801||11802===e||11803===e||11804===e||11805===e||e>=11806&&e<=11807||11808===e||11809===e||11810===e||11811===e||11812===e||11813===e||11814===e||11815===e||11816===e||11817===e||e>=11818&&e<=11822||11823===e||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||11840===e||11841===e||11842===e||e>=11843&&e<=11855||e>=11856&&e<=11857||11858===e||e>=11859&&e<=11903||e>=12289&&e<=12291||12296===e||12297===e||12298===e||12299===e||12300===e||12301===e||12302===e||12303===e||12304===e||12305===e||e>=12306&&e<=12307||12308===e||12309===e||12310===e||12311===e||12312===e||12313===e||12314===e||12315===e||12316===e||12317===e||e>=12318&&e<=12319||12320===e||12336===e||64830===e||64831===e||e>=65093&&e<=65094}function Ft(e){e.forEach((function(e){if(delete e.location,Ye(e)||We(e))for(var t in e.options)delete e.options[t].location,Ft(e.options[t].value);else Ze(e)&&et(e.style)||(Xe(e)||Ke(e))&&tt(e.style)?delete e.style.location:Je(e)&&Ft(e.children)}))}function jt(e,t){void 0===t&&(t={}),t=He({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var n=new Ut(e,t).parse();if(n.err){var r=SyntaxError(Ne[n.err.kind]);throw r.location=n.err.location,r.originalMessage=n.err.message,r}return(null==t?void 0:t.captureLocation)||Ft(n.val),n.val}!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(Nt||(Nt={}));var qt,Vt=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.code=n,o.originalMessage=r,o}return Ce(t,e),t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t}(Error),Zt=function(e){function t(t,n,r,o){return e.call(this,'Invalid values for "'.concat(t,'": "').concat(n,'". Options are "').concat(Object.keys(r).join('", "'),'"'),Nt.INVALID_VALUE,o)||this}return Ce(t,e),t}(Vt),Xt=function(e){function t(t,n,r){return e.call(this,'Value for "'.concat(t,'" must be of type ').concat(n),Nt.INVALID_VALUE,r)||this}return Ce(t,e),t}(Vt),Kt=function(e){function t(t,n){return e.call(this,'The intl string context variable "'.concat(t,'" was not provided to the string "').concat(n,'"'),Nt.MISSING_VALUE,n)||this}return Ce(t,e),t}(Vt);function Yt(e){return"function"==typeof e}function Wt(e,t,n,r,o,s,i){if(1===e.length&&qe(e[0]))return[{type:qt.literal,value:e[0].value}];for(var a=[],l=0,c=e;l<c.length;l++){var h=c[l];if(qe(h))a.push({type:qt.literal,value:h.value});else if(Qe(h))"number"==typeof s&&a.push({type:qt.literal,value:n.getNumberFormat(t).format(s)});else{var u=h.value;if(!o||!(u in o))throw new Kt(u,i);var d=o[u];if(Ve(h))d&&"string"!=typeof d&&"number"!=typeof d||(d="string"==typeof d||"number"==typeof d?String(d):""),a.push({type:"string"==typeof d?qt.literal:qt.object,value:d});else if(Xe(h)){var p="string"==typeof h.style?r.date[h.style]:tt(h.style)?h.style.parsedOptions:void 0;a.push({type:qt.literal,value:n.getDateTimeFormat(t,p).format(d)})}else if(Ke(h)){p="string"==typeof h.style?r.time[h.style]:tt(h.style)?h.style.parsedOptions:r.time.medium;a.push({type:qt.literal,value:n.getDateTimeFormat(t,p).format(d)})}else if(Ze(h)){(p="string"==typeof h.style?r.number[h.style]:et(h.style)?h.style.parsedOptions:void 0)&&p.scale&&(d*=p.scale||1),a.push({type:qt.literal,value:n.getNumberFormat(t,p).format(d)})}else{if(Je(h)){var g=h.children,f=h.value,m=o[f];if(!Yt(m))throw new Xt(f,"function",i);var b=m(Wt(g,t,n,r,o,s).map((function(e){return e.value})));Array.isArray(b)||(b=[b]),a.push.apply(a,b.map((function(e){return{type:"string"==typeof e?qt.literal:qt.object,value:e}})))}if(Ye(h)){if(!(x=h.options[d]||h.options.other))throw new Zt(h.value,d,Object.keys(h.options),i);a.push.apply(a,Wt(x.value,t,n,r,o))}else if(We(h)){var x;if(!(x=h.options["=".concat(d)])){if(!Intl.PluralRules)throw new Vt('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',Nt.MISSING_INTL_API,i);var v=n.getPluralRules(t,{type:h.pluralType}).select(d-(h.offset||0));x=h.options[v]||h.options.other}if(!x)throw new Zt(h.value,d,Object.keys(h.options),i);a.push.apply(a,Wt(x.value,t,n,r,o,d-(h.offset||0)))}else;}}}return function(e){return e.length<2?e:e.reduce((function(e,t){var n=e[e.length-1];return n&&n.type===qt.literal&&t.type===qt.literal?n.value+=t.value:e.push(t),e}),[])}(a)}function Qt(e,t){return t?Object.keys(e).reduce((function(n,r){var o,s;return n[r]=(o=e[r],(s=t[r])?He(He(He({},o||{}),s||{}),Object.keys(o).reduce((function(e,t){return e[t]=He(He({},o[t]),s[t]||{}),e}),{})):o),n}),He({},e)):e}function Jt(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(qt||(qt={}));var en=function(){function e(t,n,r,o){void 0===n&&(n=e.defaultLocale);var s,i=this;if(this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=i.formatToParts(e);if(1===t.length)return t[0].value;var n=t.reduce((function(e,t){return e.length&&t.type===qt.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return n.length<=1?n[0]||"":n},this.formatToParts=function(e){return Wt(i.ast,i.locales,i.formatters,i.formats,e,void 0,i.message)},this.resolvedOptions=function(){var e;return{locale:(null===(e=i.resolvedLocale)||void 0===e?void 0:e.toString())||Intl.NumberFormat.supportedLocalesOf(i.locales)[0]}},this.getAst=function(){return i.ast},this.locales=n,this.resolvedLocale=e.resolveLocale(n),"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");var a=o||{};a.formatters;var l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(a,["formatters"]);this.ast=e.__parse(t,He(He({},l),{locale:this.resolvedLocale}))}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=Qt(e.formats,r),this.formatters=o&&o.formatters||(void 0===(s=this.formatterCache)&&(s={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:Ie((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,Me([void 0],t,!1)))}),{cache:Jt(s.number),strategy:je.variadic}),getDateTimeFormat:Ie((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,Me([void 0],t,!1)))}),{cache:Jt(s.dateTime),strategy:je.variadic}),getPluralRules:Ie((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,Me([void 0],t,!1)))}),{cache:Jt(s.pluralRules),strategy:je.variadic})})}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.resolveLocale=function(e){if(void 0!==Intl.Locale){var t=Intl.NumberFormat.supportedLocalesOf(e);return t.length>0?new Intl.Locale(t[0]):new Intl.Locale("string"==typeof e?e:e[0])}},e.__parse=jt,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}();const tn={},nn=(e,t,n)=>n?(t in tn||(tn[t]={}),e in tn[t]||(tn[t][e]=n),n):n,rn=(e,t)=>{if(null==t)return;if(t in tn&&e in tn[t])return tn[t][e];const n=In(t);for(let r=0;r<n.length;r++){const o=ln(n[r],e);if(o)return nn(e,t,o)}};let on;const sn=be({});function an(e){return e in on}function ln(e,t){if(!an(e))return null;const n=function(e){return on[e]||null}(e);return function(e,t){if(null==t)return;if(t in e)return e[t];const n=t.split(".");let r=e;for(let e=0;e<n.length;e++)if("object"==typeof r){if(e>0){const t=n.slice(e,n.length).join(".");if(t in r){r=r[t];break}}r=r[n[e]]}else r=void 0;return r}(n,t)}xe([sn],(([e])=>Object.keys(e))),sn.subscribe((e=>on=e));const cn={};function hn(e){return cn[e]}function un(e){return null!=e&&In(e).some((e=>{var t;return null==(t=hn(e))?void 0:t.size}))}function dn(e,t){const n=Promise.all(t.map((t=>(function(e,t){cn[e].delete(t),0===cn[e].size&&delete cn[e]}(e,t),t().then((e=>e.default||e))))));return n.then((t=>function(e,...t){delete tn[e],sn.update((n=>(n[e]=Ae.all([n[e]||{},...t]),n)))}(e,...t)))}const pn={};function gn(e){if(!un(e))return e in pn?pn[e]:Promise.resolve();const t=function(e){return In(e).map((e=>{const t=hn(e);return[e,t?[...t]:[]]})).filter((([,e])=>e.length>0))}(e);return pn[e]=Promise.all(t.map((([e,t])=>dn(e,t)))).then((()=>{if(un(e))return gn(e);delete pn[e]})),pn[e]}function fn(e,t){hn(e)||function(e){cn[e]=new Set}(e);const n=hn(e);hn(e).has(t)||(an(e)||sn.update((t=>(t[e]={},t))),n.add(t))}var mn=Object.getOwnPropertySymbols,bn=Object.prototype.hasOwnProperty,xn=Object.prototype.propertyIsEnumerable;function vn({locale:e,id:t}){console.warn(`[svelte-i18n] The message "${t}" was not found in "${In(e).join('", "')}".${un(Pn())?"\n\nNote: there are at least one loader still registered to this locale that wasn't executed.":""}`)}const yn={fallbackLocale:null,loadingDelay:200,formats:{number:{scientific:{notation:"scientific"},engineering:{notation:"engineering"},compactLong:{notation:"compact",compactDisplay:"long"},compactShort:{notation:"compact",compactDisplay:"short"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},warnOnMissingMessages:!0,handleMissingMessage:void 0,ignoreTag:!0};function wn(){return yn}const kn=be(!1);var $n=Object.defineProperty,En=Object.defineProperties,Tn=Object.getOwnPropertyDescriptors,Bn=Object.getOwnPropertySymbols,_n=Object.prototype.hasOwnProperty,An=Object.prototype.propertyIsEnumerable,Sn=(e,t,n)=>t in e?$n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;let Cn;const Hn=be(null);function Mn(e){return e.split("-").map(((e,t,n)=>n.slice(0,t+1).join("-"))).reverse()}function In(e,t=wn().fallbackLocale){const n=Mn(e);return t?[...new Set([...n,...Mn(t)])]:n}function Pn(){return null!=Cn?Cn:void 0}Hn.subscribe((e=>{Cn=null!=e?e:void 0,"undefined"!=typeof window&&null!=e&&document.documentElement.setAttribute("lang",e)}));const On=(Ln=((e,t)=>{for(var n in t||(t={}))_n.call(t,n)&&Sn(e,n,t[n]);if(Bn)for(var n of Bn(t))An.call(t,n)&&Sn(e,n,t[n]);return e})({},Hn),En(Ln,Tn({set:e=>{if(e&&function(e){if(null==e)return;const t=In(e);for(let e=0;e<t.length;e++){const n=t[e];if(an(n))return n}}(e)&&un(e)){const{loadingDelay:t}=wn();let n;return"undefined"!=typeof window&&null!=Pn()&&t?n=window.setTimeout((()=>kn.set(!0)),t):kn.set(!0),gn(e).then((()=>{Hn.set(e)})).finally((()=>{clearTimeout(n),kn.set(!1)}))}return Hn.set(e)}})));var Ln;const Rn=e=>{const t=Object.create(null);return n=>{const r=JSON.stringify(n);return r in t?t[r]:t[r]=e(n)}};var Nn=Object.defineProperty,Un=Object.getOwnPropertySymbols,Dn=Object.prototype.hasOwnProperty,zn=Object.prototype.propertyIsEnumerable,Gn=(e,t,n)=>t in e?Nn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fn=(e,t)=>{for(var n in t||(t={}))Dn.call(t,n)&&Gn(e,n,t[n]);if(Un)for(var n of Un(t))zn.call(t,n)&&Gn(e,n,t[n]);return e},jn=(e,t)=>{var n={};for(var r in e)Dn.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Un)for(var r of Un(e))t.indexOf(r)<0&&zn.call(e,r)&&(n[r]=e[r]);return n};const qn=(e,t)=>{const{formats:n}=wn();if(e in n&&t in n[e])return n[e][t];throw new Error(`[svelte-i18n] Unknown "${t}" ${e} format.`)},Vn=Rn((e=>{var t=e,{locale:n,format:r}=t,o=jn(t,["locale","format"]);if(null==n)throw new Error('[svelte-i18n] A "locale" must be set to format numbers');return r&&(o=qn("number",r)),new Intl.NumberFormat(n,o)})),Zn=Rn((e=>{var t=e,{locale:n,format:r}=t,o=jn(t,["locale","format"]);if(null==n)throw new Error('[svelte-i18n] A "locale" must be set to format dates');return r?o=qn("date",r):0===Object.keys(o).length&&(o=qn("date","short")),new Intl.DateTimeFormat(n,o)})),Xn=Rn((e=>{var t=e,{locale:n,format:r}=t,o=jn(t,["locale","format"]);if(null==n)throw new Error('[svelte-i18n] A "locale" must be set to format time values');return r?o=qn("time",r):0===Object.keys(o).length&&(o=qn("time","short")),new Intl.DateTimeFormat(n,o)})),Kn=Rn(((e,t=Pn())=>new en(e,t,wn().formats,{ignoreTag:wn().ignoreTag}))),Yn=(e,t={})=>{var n,r,o,s;let i=t;"object"==typeof e&&(i=e,e=i.id);const{values:a,locale:l=Pn(),default:c}=i;if(null==l)throw new Error("[svelte-i18n] Cannot format a message without first setting the initial locale.");let h=rn(e,l);if(h){if("string"!=typeof h)return console.warn(`[svelte-i18n] Message with id "${e}" must be of type "string", found: "${typeof h}". Gettin its value through the "$format" method is deprecated; use the "json" method instead.`),h}else h=null!=(s=null!=(o=null==(r=(n=wn()).handleMissingMessage)?void 0:r.call(n,{locale:l,id:e,defaultValue:c}))?o:c)?s:e;if(!a)return h;let u=h;try{u=Kn(h,l).format(a)}catch(t){t instanceof Error&&console.warn(`[svelte-i18n] Message "${e}" has syntax error:`,t.message)}return u},Wn=(e,t)=>((e={})=>{var t=e,{locale:n=Pn()}=t,r=jn(t,["locale"]);return Xn(Fn({locale:n},r))})(t).format(e),Qn=(e,t)=>((e={})=>{var t=e,{locale:n=Pn()}=t,r=jn(t,["locale"]);return Zn(Fn({locale:n},r))})(t).format(e),Jn=(e,t)=>((e={})=>{var t=e,{locale:n=Pn()}=t,r=jn(t,["locale"]);return Vn(Fn({locale:n},r))})(t).format(e),er=(e,t=Pn())=>rn(e,t),tr=xe([On,sn],(()=>Yn));xe([On],(()=>Wn)),xe([On],(()=>Qn)),xe([On],(()=>Jn)),xe([On,sn],(()=>er));var nr={widget:{title:"AI Sales Assistant",initialMessage:"Hi, how can I help you?",ctaText:"Ask for information",footerText:"Generated by AI. Please verify important information.",placeholder:"Write a message...",placeholderDisabled:"Demo mode - Input disabled",sendButton:"Send",resetTitle:"Reset Chat",closeTitle:"Close Chat",poweredBy:"Powered by",demoSuffix:"(Demo)"},status:{thinking:"Thinking...",searching:"🔍 Searching...",reconnecting:"Reconnecting ({current}/{max})...",error:"A communication error occurred.",connectionError:"A connection error occurred.",reconnectFailed:"Could not re-establish connection. Please reload the page to try again.",configErrorApi:"Configuration Error: Missing API URL.",sendError:"An error occurred while sending the message."},product:{buyButton:"Buy"},demo:{initialMessage:"Hi, how can I help you?",userMessage:"I'm looking for comfortable running shoes.",botReply:"Certainly! We have several options. Here is a very popular model known for its comfort and support. You can see more details here:",ctaText:"See Shoe XYZ"}},rr={widget:{title:"Assistant Commercial IA",initialMessage:"Bonjour, comment puis-je vous aider ?",ctaText:"Demander des informations",footerText:"Généré par IA. Veuillez vérifier les informations importantes.",placeholder:"Écrivez un message...",placeholderDisabled:"Mode démo - Saisie désactivée",sendButton:"Envoyer",resetTitle:"Réinitialiser le chat",closeTitle:"Fermer le chat",poweredBy:"Poweredy by",demoSuffix:"(Démo)"},status:{thinking:"Réflexion...",searching:"🔍 Recherche...",reconnecting:"Reconnexion ({current}/{max})...",error:"Une erreur de communication est survenue.",connectionError:"Une erreur de connexion est survenue.",reconnectFailed:"Impossible de rétablir la connexion. Veuillez recharger la page pour réessayer.",configErrorApi:"Erreur de configuration : URL de l'API manquante.",sendError:"Une erreur est survenue lors de l'envoi du message."},product:{buyButton:"Acheter"},demo:{initialMessage:"Bonjour, comment puis-je vous aider ?",userMessage:"Je cherche des chaussures de course confortables.",botReply:"Certainement ! Nous avons plusieurs options. Voici un modèle très populaire connu pour son confort et son soutien. Vous pouvez voir plus de détails ici :",ctaText:"Voir Chaussure XYZ"}},or={widget:{title:"KI-Verkaufsassistent",initialMessage:"Hallo, wie kann ich Ihnen helfen?",ctaText:"Informationen anfordern",footerText:"Generiert von KI. Bitte überprüfen Sie wichtige Informationen.",placeholder:"Schreiben Sie eine Nachricht...",placeholderDisabled:"Demo-Modus - Eingabe deaktiviert",sendButton:"Senden",resetTitle:"Chat zurücksetzen",closeTitle:"Chat schließen",poweredBy:"Poweredy by",demoSuffix:"(Demo)"},status:{thinking:"Denken...",searching:"🔍 Suche...",reconnecting:"Wiederverbinden ({current}/{max})...",error:"Ein Kommunikationsfehler ist aufgetreten.",connectionError:"Ein Verbindungsfehler ist aufgetreten.",reconnectFailed:"Die Verbindung konnte nicht wiederhergestellt werden. Bitte laden Sie die Seite neu, um es erneut zu versuchen.",configErrorApi:"Konfigurationsfehler: Fehlende API-URL.",sendError:"Beim Senden der Nachricht ist ein Fehler aufgetreten."},product:{buyButton:"Kaufen"},demo:{initialMessage:"Hallo, wie kann ich Ihnen helfen?",userMessage:"Ich suche bequeme Laufschuhe.",botReply:"Natürlich! Wir haben mehrere Optionen. Hier ist ein sehr beliebtes Modell, das für seinen Komfort und seine Unterstützung bekannt ist. Weitere Details finden Sie hier:",ctaText:"Schuh XYZ ansehen"}},sr={widget:{title:"Asistente de Ventas AI",initialMessage:"Hola, ¿en qué puedo ayudarte?",ctaText:"Pide información",footerText:"Generado por AI. Por favor, verifica la información importante.",placeholder:"Escribe un mensaje...",placeholderDisabled:"Modo demo - Entrada deshabilitada",sendButton:"Enviar",resetTitle:"Reiniciar Chat",closeTitle:"Cerrar Chat",poweredBy:"Poweredy by",demoSuffix:"(Demo)"},status:{thinking:"Pensando...",searching:"🔍 Buscando...",reconnecting:"Reconectando ({current}/{max})...",error:"Ocurrió un error de comunicación.",connectionError:"Ocurrió un error de conexión.",reconnectFailed:"No se pudo restablecer la conexión. Por favor, recarga la página para intentarlo de nuevo.",configErrorApi:"Error de Configuración: Falta la URL de la API.",sendError:"Ocurrió un error al enviar el mensaje."},product:{buyButton:"Comprar"},demo:{initialMessage:"Hola, ¿en qué puedo ayudarte?",userMessage:"Estoy buscando zapatillas cómodas para correr.",botReply:"¡Claro! Tenemos varias opciones. Aquí hay un modelo muy popular conocido por su comodidad y soporte. Puedes ver más detalles aquí:",ctaText:"Ver Zapato XYZ"}},ir={widget:{title:"Assistente Vendite AI",initialMessage:"Ciao, come posso aiutarti?",ctaText:"Chiedi informazioni",footerText:"Generato da AI. Verifica le informazioni importanti.",placeholder:"Scrivi un messaggio...",placeholderDisabled:"Modalità demo - Input disabilitato",sendButton:"Invia",resetTitle:"Reimposta Chat",closeTitle:"Chiudi Chat",poweredBy:"Poweredy by",demoSuffix:"(Demo)"},status:{thinking:"Sto pensando...",searching:"🔍 Cerco...",reconnecting:"Riconnessione in corso ({current}/{max})...",error:"Si è verificato un errore di comunicazione.",connectionError:"Si è verificato un errore di connessione.",reconnectFailed:"Impossibile ristabilire la connessione. Ricarica la pagina per riprovare.",configErrorApi:"Errore di configurazione: URL API mancante.",sendError:"Si è verificato un errore durante l'invio del messaggio."},product:{buyButton:"Acquista"},demo:{initialMessage:"Ciao, come posso aiutarti?",userMessage:"Sto cercando scarpe da corsa comode.",botReply:"Certamente! Abbiamo diverse opzioni. Ecco un modello molto popolare noto per il suo comfort e supporto. Puoi vedere più dettagli qui:",ctaText:"Vedi Scarpe XYZ"}};const ar=["en","fr","de","es","it"];fn("en",(()=>Promise.resolve(nr))),fn("fr",(()=>Promise.resolve(rr))),fn("de",(()=>Promise.resolve(or))),fn("es",(()=>Promise.resolve(sr))),fn("it",(()=>Promise.resolve(ir)));const lr=function(e){const t=e,{formats:n}=t,r=((e,t)=>{var n={};for(var r in e)bn.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&mn)for(var r of mn(e))t.indexOf(r)<0&&xn.call(e,r)&&(n[r]=e[r]);return n})(t,["formats"]);let o=e.fallbackLocale;if(e.initialLocale)try{en.resolveLocale(e.initialLocale)&&(o=e.initialLocale)}catch(t){console.warn(`[svelte-i18n] The initial locale "${e.initialLocale}" is not a valid locale.`)}return r.warnOnMissingMessages&&(delete r.warnOnMissingMessages,null==r.handleMissingMessage?r.handleMissingMessage=vn:console.warn('[svelte-i18n] The "warnOnMissingMessages" option is deprecated. Please use the "handleMissingMessage" option instead.')),Object.assign(yn,r,{initialLocale:o}),n&&("number"in n&&Object.assign(yn.formats.number,n.number),"date"in n&&Object.assign(yn.formats.date,n.date),"time"in n&&Object.assign(yn.formats.time,n.time)),On.set(o)}({fallbackLocale:"en",initialLocale:function(){const e="undefined"==typeof window?null:window.navigator.language||window.navigator.languages[0];if(e){const t=e.split("-")[0].toLowerCase();if(ar.includes(t))return t}if(navigator.languages)for(const e of navigator.languages){const t=e.split("-")[0].toLowerCase();if(ar.includes(t))return t}return"en"}()});function cr(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");let hr={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function ur(e){hr=e}const dr=/[&<>"']/,pr=new RegExp(dr.source,"g"),gr=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,fr=new RegExp(gr.source,"g"),mr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},br=e=>mr[e];function xr(e,t){if(t){if(dr.test(e))return e.replace(pr,br)}else if(gr.test(e))return e.replace(fr,br);return e}const vr=/(^|[^\[])\^/g;function yr(e,t){let n="string"==typeof e?e:e.source;t=t||"";const r={replace:(e,t)=>{let o="string"==typeof t?t:t.source;return o=o.replace(vr,"$1"),n=n.replace(e,o),r},getRegex:()=>new RegExp(n,t)};return r}function wr(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const kr={exec:()=>null};function $r(e,t){const n=e.replace(/\|/g,((e,t,n)=>{let r=!1,o=t;for(;--o>=0&&"\\"===n[o];)r=!r;return r?"|":" |"})).split(/ \|/);let r=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function Er(e,t,n){const r=e.length;if(0===r)return"";let o=0;for(;o<r;){const s=e.charAt(r-o-1);if(s!==t||n){if(s===t||!n)break;o++}else o++}return e.slice(0,r-o)}function Tr(e,t,n,r){const o=t.href,s=t.title?xr(t.title):null,i=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){r.state.inLink=!0;const e={type:"link",raw:n,href:o,title:s,text:i,tokens:r.inlineTokens(i)};return r.state.inLink=!1,e}return{type:"image",raw:n,href:o,title:s,text:xr(i)}}class Br{options;rules;lexer;constructor(e){this.options=e||hr}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^(?: {1,4}| {0,3}\t)/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:Er(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const r=n[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=r.length?e.slice(r.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=Er(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:Er(t[0],"\n")}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let e=Er(t[0],"\n").split("\n"),n="",r="";const o=[];for(;e.length>0;){let t=!1;const s=[];let i;for(i=0;i<e.length;i++)if(/^ {0,3}>/.test(e[i]))s.push(e[i]),t=!0;else{if(t)break;s.push(e[i])}e=e.slice(i);const a=s.join("\n"),l=a.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,"\n    $1").replace(/^ {0,3}>[ \t]?/gm,"");n=n?`${n}\n${a}`:a,r=r?`${r}\n${l}`:l;const c=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(l,o,!0),this.lexer.state.top=c,0===e.length)break;const h=o[o.length-1];if("code"===h?.type)break;if("blockquote"===h?.type){const t=h,s=t.raw+"\n"+e.join("\n"),i=this.blockquote(s);o[o.length-1]=i,n=n.substring(0,n.length-t.raw.length)+i.raw,r=r.substring(0,r.length-t.text.length)+i.text;break}if("list"!==h?.type);else{const t=h,s=t.raw+"\n"+e.join("\n"),i=this.list(s);o[o.length-1]=i,n=n.substring(0,n.length-h.raw.length)+i.raw,r=r.substring(0,r.length-t.raw.length)+i.raw,e=s.substring(o[o.length-1].raw.length).split("\n")}}return{type:"blockquote",raw:n,tokens:o,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const r=n.length>1,o={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");const s=new RegExp(`^( {0,3}${n})((?:[\t ][^\\n]*)?(?:\\n|$))`);let i=!1;for(;e;){let n=!1,r="",a="";if(!(t=s.exec(e)))break;if(this.rules.block.hr.test(e))break;r=t[0],e=e.substring(r.length);let l=t[2].split("\n",1)[0].replace(/^\t+/,(e=>" ".repeat(3*e.length))),c=e.split("\n",1)[0],h=!l.trim(),u=0;if(this.options.pedantic?(u=2,a=l.trimStart()):h?u=t[1].length+1:(u=t[2].search(/[^ ]/),u=u>4?1:u,a=l.slice(u),u+=t[1].length),h&&/^[ \t]*$/.test(c)&&(r+=c+"\n",e=e.substring(c.length+1),n=!0),!n){const t=new RegExp(`^ {0,${Math.min(3,u-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),n=new RegExp(`^ {0,${Math.min(3,u-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),o=new RegExp(`^ {0,${Math.min(3,u-1)}}(?:\`\`\`|~~~)`),s=new RegExp(`^ {0,${Math.min(3,u-1)}}#`),i=new RegExp(`^ {0,${Math.min(3,u-1)}}<[a-z].*>`,"i");for(;e;){const d=e.split("\n",1)[0];let p;if(c=d,this.options.pedantic?(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  "),p=c):p=c.replace(/\t/g,"    "),o.test(c))break;if(s.test(c))break;if(i.test(c))break;if(t.test(c))break;if(n.test(c))break;if(p.search(/[^ ]/)>=u||!c.trim())a+="\n"+p.slice(u);else{if(h)break;if(l.replace(/\t/g,"    ").search(/[^ ]/)>=4)break;if(o.test(l))break;if(s.test(l))break;if(n.test(l))break;a+="\n"+c}h||c.trim()||(h=!0),r+=d+"\n",e=e.substring(d.length+1),l=p.slice(u)}}o.loose||(i?o.loose=!0:/\n[ \t]*\n[ \t]*$/.test(r)&&(i=!0));let d,p=null;this.options.gfm&&(p=/^\[[ xX]\] /.exec(a),p&&(d="[ ] "!==p[0],a=a.replace(/^\[[ xX]\] +/,""))),o.items.push({type:"list_item",raw:r,task:!!p,checked:d,loose:!1,text:a,tokens:[]}),o.raw+=r}o.items[o.items.length-1].raw=o.items[o.items.length-1].raw.trimEnd(),o.items[o.items.length-1].text=o.items[o.items.length-1].text.trimEnd(),o.raw=o.raw.trimEnd();for(let e=0;e<o.items.length;e++)if(this.lexer.state.top=!1,o.items[e].tokens=this.lexer.blockTokens(o.items[e].text,[]),!o.loose){const t=o.items[e].tokens.filter((e=>"space"===e.type)),n=t.length>0&&t.some((e=>/\n.*\n/.test(e.raw)));o.loose=n}if(o.loose)for(let e=0;e<o.items.length;e++)o.items[e].loose=!0;return o}}html(e){const t=this.rules.block.html.exec(e);if(t){return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}}def(e){const t=this.rules.block.def.exec(e);if(t){const e=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:r}}}table(e){const t=this.rules.block.table.exec(e);if(!t)return;if(!/[:|]/.test(t[2]))return;const n=$r(t[1]),r=t[2].replace(/^\||\| *$/g,"").split("|"),o=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[],s={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(const e of r)/^ *-+: *$/.test(e)?s.align.push("right"):/^ *:-+: *$/.test(e)?s.align.push("center"):/^ *:-+ *$/.test(e)?s.align.push("left"):s.align.push(null);for(let e=0;e<n.length;e++)s.header.push({text:n[e],tokens:this.lexer.inline(n[e]),header:!0,align:s.align[e]});for(const e of o)s.rows.push($r(e,s.header.length).map(((e,t)=>({text:e,tokens:this.lexer.inline(e),header:!1,align:s.align[t]}))));return s}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:xr(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=Er(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function(e,t){if(-1===e.indexOf(t[1]))return-1;let n=0;for(let r=0;r<e.length;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return-1}(t[2],"()");if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],r=e[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),Tr(t,{href:n?n.replace(this.rules.inline.anyPunctuation,"$1"):n,title:r?r.replace(this.rules.inline.anyPunctuation,"$1"):r},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const e=t[(n[2]||n[1]).replace(/\s+/g," ").toLowerCase()];if(!e){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return Tr(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!r)return;if(r[3]&&n.match(/[\p{L}\p{N}]/u))return;if(!(r[1]||r[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const n=[...r[0]].length-1;let o,s,i=n,a=0;const l="*"===r[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+n);null!=(r=l.exec(t));){if(o=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!o)continue;if(s=[...o].length,r[3]||r[4]){i+=s;continue}if((r[5]||r[6])&&n%3&&!((n+s)%3)){a+=s;continue}if(i-=s,i>0)continue;s=Math.min(s,s+i+a);const t=[...r[0]][0].length,l=e.slice(0,n+r.index+t+s);if(Math.min(n,s)%2){const e=l.slice(1,-1);return{type:"em",raw:l,text:e,tokens:this.lexer.inlineTokens(e)}}const c=l.slice(2,-2);return{type:"strong",raw:l,text:c,tokens:this.lexer.inlineTokens(c)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),r=/^ /.test(e)&&/ $/.test(e);return n&&r&&(e=e.substring(1,e.length-1)),e=xr(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let e,n;return"@"===t[2]?(e=xr(t[1]),n="mailto:"+e):(e=xr(t[1]),n=e),{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let e,n;if("@"===t[2])e=xr(t[0]),n="mailto:"+e;else{let r;do{r=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??""}while(r!==t[0]);e=xr(t[0]),n="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let e;return e=this.lexer.state.inRawBlock?t[0]:xr(t[0]),{type:"text",raw:t[0],text:e}}}}const _r=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Ar=/(?:[*+-]|\d{1,9}[.)])/,Sr=yr(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Ar).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Cr=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Hr=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Mr=yr(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Hr).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Ir=yr(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Ar).getRegex(),Pr="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Or=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Lr=yr("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",Or).replace("tag",Pr).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Rr=yr(Cr).replace("hr",_r).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Pr).getRegex(),Nr={blockquote:yr(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Rr).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:Mr,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:_r,html:Lr,lheading:Sr,list:Ir,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:Rr,table:kr,text:/^[^\n]+/},Ur=yr("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",_r).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Pr).getRegex(),Dr={...Nr,table:Ur,paragraph:yr(Cr).replace("hr",_r).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Ur).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Pr).getRegex()},zr={...Nr,html:yr("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Or).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:kr,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:yr(Cr).replace("hr",_r).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Sr).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Gr=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Fr=/^( {2,}|\\)\n(?!\s*$)/,jr="\\p{P}\\p{S}",qr=yr(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,jr).getRegex(),Vr=yr(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,jr).getRegex(),Zr=yr("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,jr).getRegex(),Xr=yr("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,jr).getRegex(),Kr=yr(/\\([punct])/,"gu").replace(/punct/g,jr).getRegex(),Yr=yr(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Wr=yr(Or).replace("(?:--\x3e|$)","--\x3e").getRegex(),Qr=yr("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Wr).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Jr=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,eo=yr(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Jr).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),to=yr(/^!?\[(label)\]\[(ref)\]/).replace("label",Jr).replace("ref",Hr).getRegex(),no=yr(/^!?\[(ref)\](?:\[\])?/).replace("ref",Hr).getRegex(),ro={_backpedal:kr,anyPunctuation:Kr,autolink:Yr,blockSkip:/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,br:Fr,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:kr,emStrongLDelim:Vr,emStrongRDelimAst:Zr,emStrongRDelimUnd:Xr,escape:Gr,link:eo,nolink:no,punctuation:qr,reflink:to,reflinkSearch:yr("reflink|nolink(?!\\()","g").replace("reflink",to).replace("nolink",no).getRegex(),tag:Qr,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:kr},oo={...ro,link:yr(/^!?\[(label)\]\((.*?)\)/).replace("label",Jr).getRegex(),reflink:yr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Jr).getRegex()},so={...ro,escape:yr(Gr).replace("])","~|])").getRegex(),url:yr(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},io={...so,br:yr(Fr).replace("{2,}","*").getRegex(),text:yr(so.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ao={normal:Nr,gfm:Dr,pedantic:zr},lo={normal:ro,gfm:so,breaks:io,pedantic:oo};class co{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||hr,this.options.tokenizer=this.options.tokenizer||new Br,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:ao.normal,inline:lo.normal};this.options.pedantic?(t.block=ao.pedantic,t.inline=lo.pedantic):this.options.gfm&&(t.block=ao.gfm,this.options.breaks?t.inline=lo.breaks:t.inline=lo.gfm),this.tokenizer.rules=t}static get rules(){return{block:ao,inline:lo}}static lex(e,t){return new co(t).lex(e)}static lexInline(e,t){return new co(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){const t=this.inlineQueue[e];this.inlineTokens(t.src,t.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){let r,o,s;for(this.options.pedantic&&(e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((n=>!!(r=n.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))))if(r=this.tokenizer.space(e))e=e.substring(r.raw.length),1===r.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(r);else if(r=this.tokenizer.code(e))e=e.substring(r.raw.length),o=t[t.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?t.push(r):(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);else if(r=this.tokenizer.fences(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.heading(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.hr(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.blockquote(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.list(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.html(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.def(e))e=e.substring(r.raw.length),o=t[t.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(o.raw+="\n"+r.raw,o.text+="\n"+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);else if(r=this.tokenizer.table(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.lheading(e))e=e.substring(r.raw.length),t.push(r);else{if(s=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startBlock.forEach((e=>{r=e.call({lexer:this},n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(s=e.substring(0,t+1))}if(this.state.top&&(r=this.tokenizer.paragraph(s)))o=t[t.length-1],n&&"paragraph"===o?.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(r),n=s.length!==e.length,e=e.substring(r.raw.length);else if(r=this.tokenizer.text(e))e=e.substring(r.raw.length),o=t[t.length-1],o&&"text"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(r);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,r,o,s,i,a,l=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(s=this.tokenizer.rules.inline.reflinkSearch.exec(l));)e.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(s=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(s=this.tokenizer.rules.inline.anyPunctuation.exec(l));)l=l.slice(0,s.index)+"++"+l.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(i||(a=""),i=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.emStrong(e,l,a))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.autolink(e))e=e.substring(n.raw.length),t.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(e))){if(o=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startInline.forEach((e=>{r=e.call({lexer:this},n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(o=e.substring(0,t+1))}if(n=this.tokenizer.inlineText(o))e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(a=n.raw.slice(-1)),i=!0,r=t[t.length-1],r&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(n.raw.length),t.push(n);return t}}class ho{options;parser;constructor(e){this.options=e||hr}space(e){return""}code({text:e,lang:t,escaped:n}){const r=(t||"").match(/^\S*/)?.[0],o=e.replace(/\n$/,"")+"\n";return r?'<pre><code class="language-'+xr(r)+'">'+(n?o:xr(o,!0))+"</code></pre>\n":"<pre><code>"+(n?o:xr(o,!0))+"</code></pre>\n"}blockquote({tokens:e}){return`<blockquote>\n${this.parser.parse(e)}</blockquote>\n`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>\n`}hr(e){return"<hr>\n"}list(e){const t=e.ordered,n=e.start;let r="";for(let t=0;t<e.items.length;t++){const n=e.items[t];r+=this.listitem(n)}const o=t?"ol":"ul";return"<"+o+(t&&1!==n?' start="'+n+'"':"")+">\n"+r+"</"+o+">\n"}listitem(e){let t="";if(e.task){const n=this.checkbox({checked:!!e.checked});e.loose?e.tokens.length>0&&"paragraph"===e.tokens[0].type?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&"text"===e.tokens[0].tokens[0].type&&(e.tokens[0].tokens[0].text=n+" "+e.tokens[0].tokens[0].text)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" "}):t+=n+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>\n`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>\n`}table(e){let t="",n="";for(let t=0;t<e.header.length;t++)n+=this.tablecell(e.header[t]);t+=this.tablerow({text:n});let r="";for(let t=0;t<e.rows.length;t++){const o=e.rows[t];n="";for(let e=0;e<o.length;e++)n+=this.tablecell(o[e]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+r+"</table>\n"}tablerow({text:e}){return`<tr>\n${e}</tr>\n`}tablecell(e){const t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>\n`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${e}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){const r=this.parser.parseInline(n),o=wr(e);if(null===o)return r;let s='<a href="'+(e=o)+'"';return t&&(s+=' title="'+t+'"'),s+=">"+r+"</a>",s}image({href:e,title:t,text:n}){const r=wr(e);if(null===r)return n;let o=`<img src="${e=r}" alt="${n}"`;return t&&(o+=` title="${t}"`),o+=">",o}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):e.text}}class uo{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class po{options;renderer;textRenderer;constructor(e){this.options=e||hr,this.options.renderer=this.options.renderer||new ho,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new uo}static parse(e,t){return new po(t).parse(e)}static parseInline(e,t){return new po(t).parseInline(e)}parse(e,t=!0){let n="";for(let r=0;r<e.length;r++){const o=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const e=o,t=this.options.extensions.renderers[e.type].call({parser:this},e);if(!1!==t||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(e.type)){n+=t||"";continue}}const s=o;switch(s.type){case"space":n+=this.renderer.space(s);continue;case"hr":n+=this.renderer.hr(s);continue;case"heading":n+=this.renderer.heading(s);continue;case"code":n+=this.renderer.code(s);continue;case"table":n+=this.renderer.table(s);continue;case"blockquote":n+=this.renderer.blockquote(s);continue;case"list":n+=this.renderer.list(s);continue;case"html":n+=this.renderer.html(s);continue;case"paragraph":n+=this.renderer.paragraph(s);continue;case"text":{let o=s,i=this.renderer.text(o);for(;r+1<e.length&&"text"===e[r+1].type;)o=e[++r],i+="\n"+this.renderer.text(o);n+=t?this.renderer.paragraph({type:"paragraph",raw:i,text:i,tokens:[{type:"text",raw:i,text:i}]}):i;continue}default:{const e='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}parseInline(e,t){t=t||this.renderer;let n="";for(let r=0;r<e.length;r++){const o=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const e=this.options.extensions.renderers[o.type].call({parser:this},o);if(!1!==e||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){n+=e||"";continue}}const s=o;switch(s.type){case"escape":case"text":n+=t.text(s);break;case"html":n+=t.html(s);break;case"link":n+=t.link(s);break;case"image":n+=t.image(s);break;case"strong":n+=t.strong(s);break;case"em":n+=t.em(s);break;case"codespan":n+=t.codespan(s);break;case"br":n+=t.br(s);break;case"del":n+=t.del(s);break;default:{const e='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}}class go{options;block;constructor(e){this.options=e||hr}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?co.lex:co.lexInline}provideParser(){return this.block?po.parse:po.parseInline}}const fo=new class{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=po;Renderer=ho;TextRenderer=uo;Lexer=co;Tokenizer=Br;Hooks=go;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(const r of e)switch(n=n.concat(t.call(this,r)),r.type){case"table":{const e=r;for(const r of e.header)n=n.concat(this.walkTokens(r.tokens,t));for(const r of e.rows)for(const e of r)n=n.concat(this.walkTokens(e.tokens,t));break}case"list":{const e=r;n=n.concat(this.walkTokens(e.items,t));break}default:{const e=r;this.defaults.extensions?.childTokens?.[e.type]?this.defaults.extensions.childTokens[e.type].forEach((r=>{const o=e[r].flat(1/0);n=n.concat(this.walkTokens(o,t))})):e.tokens&&(n=n.concat(this.walkTokens(e.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach((e=>{const n={...e};if(n.async=this.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if("renderer"in e){const n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let r=e.renderer.apply(this,t);return!1===r&&(r=n.apply(this,t)),r}:e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");const n=t[e.level];n?n.unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),n.extensions=t),e.renderer){const t=this.defaults.renderer||new ho(this.defaults);for(const n in e.renderer){if(!(n in t))throw new Error(`renderer '${n}' does not exist`);if(["options","parser"].includes(n))continue;const r=n,o=e.renderer[r],s=t[r];t[r]=(...e)=>{let n=o.apply(t,e);return!1===n&&(n=s.apply(t,e)),n||""}}n.renderer=t}if(e.tokenizer){const t=this.defaults.tokenizer||new Br(this.defaults);for(const n in e.tokenizer){if(!(n in t))throw new Error(`tokenizer '${n}' does not exist`);if(["options","rules","lexer"].includes(n))continue;const r=n,o=e.tokenizer[r],s=t[r];t[r]=(...e)=>{let n=o.apply(t,e);return!1===n&&(n=s.apply(t,e)),n}}n.tokenizer=t}if(e.hooks){const t=this.defaults.hooks||new go;for(const n in e.hooks){if(!(n in t))throw new Error(`hook '${n}' does not exist`);if(["options","block"].includes(n))continue;const r=n,o=e.hooks[r],s=t[r];go.passThroughHooks.has(n)?t[r]=e=>{if(this.defaults.async)return Promise.resolve(o.call(t,e)).then((e=>s.call(t,e)));const n=o.call(t,e);return s.call(t,n)}:t[r]=(...e)=>{let n=o.apply(t,e);return!1===n&&(n=s.apply(t,e)),n}}n.hooks=t}if(e.walkTokens){const t=this.defaults.walkTokens,r=e.walkTokens;n.walkTokens=function(e){let n=[];return n.push(r.call(this,e)),t&&(n=n.concat(t.call(this,e))),n}}this.defaults={...this.defaults,...n}})),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return co.lex(e,t??this.defaults)}parser(e,t){return po.parse(e,t??this.defaults)}parseMarkdown(e){return(t,n)=>{const r={...n},o={...this.defaults,...r},s=this.onError(!!o.silent,!!o.async);if(!0===this.defaults.async&&!1===r.async)return s(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(null==t)return s(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof t)return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));o.hooks&&(o.hooks.options=o,o.hooks.block=e);const i=o.hooks?o.hooks.provideLexer():e?co.lex:co.lexInline,a=o.hooks?o.hooks.provideParser():e?po.parse:po.parseInline;if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(t):t).then((e=>i(e,o))).then((e=>o.hooks?o.hooks.processAllTokens(e):e)).then((e=>o.walkTokens?Promise.all(this.walkTokens(e,o.walkTokens)).then((()=>e)):e)).then((e=>a(e,o))).then((e=>o.hooks?o.hooks.postprocess(e):e)).catch(s);try{o.hooks&&(t=o.hooks.preprocess(t));let e=i(t,o);o.hooks&&(e=o.hooks.processAllTokens(e)),o.walkTokens&&this.walkTokens(e,o.walkTokens);let n=a(e,o);return o.hooks&&(n=o.hooks.postprocess(n)),n}catch(e){return s(e)}}}onError(e,t){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const e="<p>An error occurred:</p><pre>"+xr(n.message+"",!0)+"</pre>";return t?Promise.resolve(e):e}if(t)return Promise.reject(n);throw n}}};function mo(e,t){return fo.parse(e,t)}function bo(e,{delay:n=0,duration:r=400,easing:o=t}={}){const s=+getComputedStyle(e).opacity;return{delay:n,duration:r,easing:o,css:e=>"opacity: "+e*s}}function xo(e){!function(e,t,n){const r=m(e);if(!r.getElementById(t)){const e=w("style");e.id=t,e.textContent=n,x(r,e)}}(e,"svelte-henmd1",":host{font-family:system-ui, Arial, sans-serif;color:var(--primary-text-color, #222);background:none;line-height:1.5}#chat-widget.svelte-henmd1.svelte-henmd1,#chat-widget.svelte-henmd1 .svelte-henmd1{font-family:inherit;font-size:inherit;line-height:inherit;font-weight:normal;font-style:normal;text-transform:none;letter-spacing:normal;text-shadow:none;box-sizing:border-box}.theme-light.svelte-henmd1.svelte-henmd1{--container-bg:#e0e0e0;--header-bg:#e8e8e8;--header-text:#000000;--messages-bg:#ffffff;--input-area-bg:#e8e8e8;--input-bg:#ffffff;--input-text:#000000;--disclaimer-text:#656565;--primary-text-color:#000000;--link-color:#000000;--cta-hover-bg:#000000;--cta-hover-text:#ffffff;--product-card-bg:#ffffff;--product-card-shadow:rgba(0, 0, 0, 0.1);--product-border-color:#f8f8f8;--add-to-cart-border-color:#000000;--add-to-cart-hover-bg:rgba(0, 0, 0, 0.05);--loading-bg:#f8f8f8;--loading-text-color:#666;--loading-dot-color:#666;--disabled-input-bg:#eeeeee;--disabled-button-bg:#cccccc}.theme-dark.svelte-henmd1.svelte-henmd1{--container-bg:#2a2a2a;--header-bg:#1e1e1e;--header-text:#ffffff;--messages-bg:#333333;--input-area-bg:#1e1e1e;--input-bg:#4a4a4a;--input-text:#ffffff;--disclaimer-text:#aaaaaa;--primary-text-color:#ffffff;--link-color:#eeeeee;--cta-hover-bg:#ffffff;--cta-hover-text:#000000;--product-card-bg:#3a3a3a;--product-card-shadow:rgba(255, 255, 255, 0.1);--product-border-color:#444444;--add-to-cart-border-color:#ffffff;--add-to-cart-hover-bg:rgba(255, 255, 255, 0.1);--loading-bg:#4a4a4a;--loading-text-color:#cccccc;--loading-dot-color:#cccccc;--disabled-input-bg:#555555;--disabled-button-bg:#777777}#chat-widget.svelte-henmd1.svelte-henmd1{position:fixed;z-index:1000;font-family:Arial, sans-serif;display:flex;gap:10px;font-size:var(--widget-font-size, 16px)}.top-left.svelte-henmd1.svelte-henmd1{top:20px;left:20px;flex-direction:column;align-items:flex-start}.top-right.svelte-henmd1.svelte-henmd1{top:20px;right:20px;flex-direction:column;align-items:flex-end}.bottom-left.svelte-henmd1.svelte-henmd1{bottom:20px;left:20px;flex-direction:column-reverse;align-items:flex-start}.bottom-right.svelte-henmd1.svelte-henmd1{bottom:20px;right:20px;flex-direction:column-reverse;align-items:flex-end}#chat-widget.fullscreen.svelte-henmd1.svelte-henmd1{top:0;left:0;bottom:0;right:0;width:100vw;height:100vh;z-index:2147483647}#chat-widget.fullscreen.svelte-henmd1 #chat-container.svelte-henmd1{width:100%;height:100%;border-radius:0;box-shadow:none}.button-wrapper.svelte-henmd1.svelte-henmd1{position:relative}.button-overlay.svelte-henmd1.svelte-henmd1{position:absolute;background-color:var(--messages-bg);color:var(--primary-text-color);padding:8px 12px;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.15);width:max-content;max-width:220px;font-size:14px;line-height:1.4;z-index:1;bottom:50%;transform:translateY(50%)}.button-overlay-tail.svelte-henmd1.svelte-henmd1{position:absolute;width:0;height:0;border-style:solid;top:50%;transform:translateY(-50%)}.bottom-right.svelte-henmd1 .button-overlay.svelte-henmd1,.top-right.svelte-henmd1 .button-overlay.svelte-henmd1{right:calc(100% + 15px)}.bottom-right.svelte-henmd1 .button-overlay-tail.svelte-henmd1,.top-right.svelte-henmd1 .button-overlay-tail.svelte-henmd1{left:100%;border-width:8px 0 8px 8px;border-color:transparent transparent transparent var(--messages-bg)}.bottom-left.svelte-henmd1 .button-overlay.svelte-henmd1,.top-left.svelte-henmd1 .button-overlay.svelte-henmd1{left:calc(100% + 15px)}.bottom-left.svelte-henmd1 .button-overlay-tail.svelte-henmd1,.top-left.svelte-henmd1 .button-overlay-tail.svelte-henmd1{right:100%;border-width:8px 8px 8px 0;border-color:transparent var(--messages-bg) transparent transparent}#chat-button.svelte-henmd1.svelte-henmd1{background-color:var(--chat-btn-bg) !important;color:var(--chat-btn-text) !important;border:none;border-radius:50%;width:60px !important;height:60px !important;cursor:pointer;font-size:24px;display:flex;align-items:center;justify-content:center;overflow:hidden}#chat-button.svelte-henmd1 img.svelte-henmd1{max-width:100%;max-height:100%;object-fit:cover}.custom-chat-button-wrapper.svelte-henmd1.svelte-henmd1{background:none;border:none;padding:0;cursor:pointer;display:inline-block;line-height:0}.custom-chat-button-image.svelte-henmd1.svelte-henmd1{width:60px;height:60px;display:block;object-fit:cover;border-radius:0}#chat-container.svelte-henmd1.svelte-henmd1{width:var(--widget-width);height:var(--widget-height);background-color:var(--container-bg);border-radius:10px;box-shadow:0 0 10px rgba(0, 0, 0, 0.1);overflow:hidden;display:flex;flex-direction:column}#chat-header.svelte-henmd1.svelte-henmd1{display:flex;justify-content:space-between;align-items:center;background-color:var(--header-bg);color:var(--header-text);padding:10px 10px 10px 14px;flex-shrink:0}.header-buttons.svelte-henmd1.svelte-henmd1{display:flex;gap:5px}#reset-chat.svelte-henmd1.svelte-henmd1,#close-chat.svelte-henmd1.svelte-henmd1{background:none;border:none;color:var(--header-text);font-size:20px;line-height:20px;padding:10px;cursor:pointer}#chat-messages.svelte-henmd1.svelte-henmd1{flex-grow:1;overflow-y:auto;padding:10px;background-color:var(--messages-bg);color:var(--primary-text-color)}.message.svelte-henmd1.svelte-henmd1{margin-bottom:10px;height:auto;width:auto;max-width:80%;display:flex;align-items:flex-start;gap:8px}.message-icon.svelte-henmd1.svelte-henmd1{width:32px;height:32px;flex-shrink:0}.message-content.svelte-henmd1.svelte-henmd1{flex-grow:1;word-wrap:break-word;padding:5px 10px;border-radius:5px}.message.svelte-henmd1 a.svelte-henmd1{color:var(--link-color)}.message ul,.message ol{padding-inline-start:20px}.user-message.svelte-henmd1.svelte-henmd1{margin-left:auto}.user-message.svelte-henmd1 .message-content.svelte-henmd1{background-color:var(--user-msg-bg);color:var(--user-msg-text)}.bot-message.svelte-henmd1.svelte-henmd1{align-self:flex-start}.bot-message.svelte-henmd1 .message-content.svelte-henmd1{background-color:var(--assistant-msg-bg);color:var(--assistant-msg-text)}.loading-container.svelte-henmd1.svelte-henmd1{display:flex;align-items:center;padding:8px 12px;background-color:var(--loading-bg);border-radius:16px;max-width:fit-content;margin:5px 0}.loading-indicator.svelte-henmd1.svelte-henmd1{display:flex;align-items:baseline;gap:4px}.loading-text.svelte-henmd1.svelte-henmd1{color:var(--loading-text-color);font-size:14px}.typing-dots.svelte-henmd1.svelte-henmd1{display:flex;gap:2px;padding-bottom:2px;padding-left:2px}.typing-dots.svelte-henmd1 span.svelte-henmd1{width:2px;height:2px;background-color:var(--loading-dot-color);border-radius:50%;display:inline-block;animation:svelte-henmd1-customBounce 1s infinite}.typing-dots.svelte-henmd1 span.svelte-henmd1:nth-child(1){animation-delay:0ms}.typing-dots.svelte-henmd1 span.svelte-henmd1:nth-child(2){animation-delay:200ms}.typing-dots.svelte-henmd1 span.svelte-henmd1:nth-child(3){animation-delay:400ms}@keyframes svelte-henmd1-customBounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-5px)}}@media(max-width: 480px){#chat-widget.svelte-henmd1.svelte-henmd1:not(.fullscreen){font-size:var(--widget-mobile-font-size, 12px)}#chat-widget.svelte-henmd1:not(.fullscreen) #chat-container.svelte-henmd1{width:90vw;height:calc(90vh - 20px)}}.quick-messages-flow.svelte-henmd1.svelte-henmd1{display:flex;flex-wrap:nowrap;gap:8px;overflow-x:auto;padding:0 10px 10px;background-color:var(--messages-bg);flex-shrink:0;scrollbar-width:thin;scrollbar-color:var(--disclaimer-text) transparent}.quick-messages-flow.svelte-henmd1.svelte-henmd1::-webkit-scrollbar{height:5px}.quick-messages-flow.svelte-henmd1.svelte-henmd1::-webkit-scrollbar-track{background:transparent}.quick-messages-flow.svelte-henmd1.svelte-henmd1::-webkit-scrollbar-thumb{background-color:var(--disclaimer-text);border-radius:10px}.quick-message-btn.svelte-henmd1.svelte-henmd1{flex-shrink:0;padding:6px 12px;border-radius:16px;border:1px solid var(--disclaimer-text);background-color:transparent;color:var(--primary-text-color);cursor:pointer;font-size:14px;transition:background-color 0.2s;white-space:nowrap}.quick-message-btn.svelte-henmd1.svelte-henmd1:hover:not(:disabled){background-color:var(--container-bg)}.quick-message-btn.svelte-henmd1.svelte-henmd1:disabled{cursor:not-allowed;opacity:0.6}#chat-input.svelte-henmd1.svelte-henmd1{display:flex;padding:10px 10px 0 10px;background-color:var(--header-bg);flex-shrink:0}#chat-footer.svelte-henmd1.svelte-henmd1{text-align:center;font-size:0.8rem;padding:10px;background-color:var(--header-bg);color:var(--header-text);flex-shrink:0}#powered-by.svelte-henmd1.svelte-henmd1{text-align:center;font-size:0.7rem;padding:5px 10px 10px;background-color:var(--header-bg);color:var(--header-text);flex-shrink:0}#powered-by.svelte-henmd1 a.svelte-henmd1{color:var(--header-text);text-decoration:none}#powered-by.svelte-henmd1 a.svelte-henmd1:hover{text-decoration:underline}#user-input.svelte-henmd1.svelte-henmd1{flex-grow:1;padding:10px;border:1px solid #ddd;border-radius:3px;background-color:var(--input-bg);color:var(--input-text);font-size:1em}#user-input.svelte-henmd1.svelte-henmd1:disabled{background-color:var(--disabled-input-bg);cursor:not-allowed}#send-button.svelte-henmd1.svelte-henmd1{background-color:var(--cta-btn-bg);color:var(--cta-btn-text);border:none;padding:10px 15px;margin-left:5px;cursor:pointer;border-radius:3px;text-wrap:nowrap;min-width:60px;transition:background-color 0.3s, color 0.3s}#send-button.svelte-henmd1.svelte-henmd1:hover:not(:disabled){background-color:var(--cta-btn-hover-bg, var(--cta-hover-bg));color:var(--cta-btn-hover-text, var(--cta-hover-text))}#send-button.svelte-henmd1.svelte-henmd1:disabled{background-color:var(--disabled-button-bg);cursor:not-allowed;opacity:0.6}.cta-button.svelte-henmd1.svelte-henmd1{display:inline-block;background-color:var(--cta-btn-bg);color:var(--cta-btn-text);padding:8px 12px;border-radius:20px;text-decoration:none;margin-bottom:10px;font-size:14px;text-align:center;width:100%;box-sizing:border-box;transition:background-color 0.3s, color 0.3s}.cta-button.svelte-henmd1.svelte-henmd1:hover{background-color:var(--cta-btn-hover-bg, var(--cta-hover-bg));color:var(--cta-btn-hover-text, var(--cta-hover-text))}.product-carousel{display:flex;overflow-x:auto;padding:10px 0;margin-top:10px}.carousel-product{flex:0 0 auto;width:150px;margin-right:10px;background-color:var(--product-card-bg);border:1px solid var(--product-border-color);border-radius:5px;padding:10px;text-align:center;color:inherit;display:block;transition:transform 0.2s, box-shadow 0.2s}.carousel-product:hover{transform:translateY(-2px);box-shadow:0 4px 8px var(--product-card-shadow)}.product-link{text-decoration:none;color:inherit;display:block;position:relative}.discount-label{position:absolute;top:0;left:-10px;background-color:#666;color:white;padding:6px 10px;font-size:12px}.product-link img{width:100%;height:100px;object-fit:cover;margin-bottom:5px}.carousel-product h4{margin:5px 0;font-size:14px;color:var(--primary-text-color)}.product-brand{font-size:12px;color:var(--disclaimer-text);margin:5px 0}.product-price{margin:5px 0;color:var(--primary-text-color)}.current-price{font-weight:bold;font-size:16px}.regular-price{text-decoration:line-through #8B0000 2px;color:inherit;font-size:14px;margin-right:5px}.product-miniature__form{margin-top:10px}.add-to-cart{background-color:var(--cta-btn-bg);color:var(--cta-btn-text);border:none;border-radius:20px;padding:8px 12px;cursor:pointer;display:inline-block;transition:background-color 0.3s, color 0.3s;margin:10px auto 0;text-decoration:none;font-size:14px;text-align:center;width:100%;box-sizing:border-box}.add-to-cart:hover{background-color:var(--cta-btn-hover-bg, var(--cta-hover-bg));color:var(--cta-btn-hover-text, var(--cta-hover-text))}")}function vo(e,t,n){const r=e.slice();return r[98]=t[n],r}function yo(e,t,n){const r=e.slice();return r[101]=t[n],r[103]=n,r}function wo(e,t,n){const r=e.slice();return r[104]=t[n],r}function ko(e){let t,n,r=e[34]&&e[23]&&(!e[30]||e[4])&&$o(e);function o(e,t){return e[22]?To:Eo}let s=o(e),i=s(e);return{c(){t=w("div"),r&&r.c(),n=$(),i.c(),B(t,"class","button-wrapper svelte-henmd1")},m(e,o){v(e,t,o),r&&r.m(t,null),f(t,n),i.m(t,null)},p(e,a){e[34]&&e[23]&&(!e[30]||e[4])?r?(r.p(e,a),1082130448&a[0]|8&a[1]&&oe(r,1)):(r=$o(e),r.c(),oe(r,1),r.m(t,n)):r&&(ne(),se(r,1,0,(()=>{r=null})),re()),s===(s=o(e))&&i?i.p(e,a):(i.d(1),i=s(e),i&&(i.c(),i.m(t,null)))},d(e){e&&y(t),r&&r.d(),i.d()}}}function $o(e){let t,n,r,o,s,i;return{c(){t=w("div"),n=k(e[23]),r=$(),o=w("div"),B(o,"class","button-overlay-tail svelte-henmd1"),B(t,"class","button-overlay svelte-henmd1")},m(e,s){v(e,t,s),f(t,n),f(t,r),f(t,o),i=!0},p(e,t){(!i||8388608&t[0])&&_(n,e[23])},i(e){i||(e&&Z((()=>{i&&(s||(s=ae(t,bo,{duration:300},!0)),s.run(1))})),i=!0)},o(e){e&&(s||(s=ae(t,bo,{duration:300},!1)),s.run(0)),i=!1},d(e){e&&y(t),e&&s&&s.end()}}}function Eo(e){let t,n,r,o;function s(e,t){return e[39]?Ao:e[38]?_o:Bo}let i=s(e),a=i(e);return{c(){t=w("button"),a.c(),B(t,"id","chat-button"),B(t,"aria-label",n=e[29]("widget.title")),B(t,"class","svelte-henmd1")},m(n,s){v(n,t,s),a.m(t,null),r||(o=T(t,"click",e[43]),r=!0)},p(e,r){i===(i=s(e))&&a?a.p(e,r):(a.d(1),a=i(e),a&&(a.c(),a.m(t,null))),536870912&r[0]&&n!==(n=e[29]("widget.title"))&&B(t,"aria-label",n)},d(e){e&&y(t),a.d(),r=!1,o()}}}function To(e){let t,n,r,s,i,a;return{c(){t=w("button"),n=w("img"),l(n.src,r=e[22])||B(n,"src",r),B(n,"alt",""),B(n,"class","custom-chat-button-image svelte-henmd1"),B(t,"class","custom-chat-button-wrapper svelte-henmd1"),B(t,"aria-label",s=e[29]("widget.title")),B(t,"tabindex","0")},m(r,o){v(r,t,o),f(t,n),i||(a=[T(t,"click",e[43]),T(t,"keydown",e[60])],i=!0)},p(e,o){4194304&o[0]&&!l(n.src,r=e[22])&&B(n,"src",r),536870912&o[0]&&s!==(s=e[29]("widget.title"))&&B(t,"aria-label",s)},d(e){e&&y(t),i=!1,o(a)}}}function Bo(e){let t,n;return{c(){t=new H(!1),n=E(),t.a=n},m(r,o){t.m(e[0],r,o),v(r,n,o)},p(e,n){1&n[0]&&t.p(e[0])},d(e){e&&(y(n),t.d())}}}function _o(e){let t,n;return{c(){t=new H(!1),n=E(),t.a=n},m(r,o){t.m(e[0],r,o),v(r,n,o)},p(e,n){1&n[0]&&t.p(e[0])},d(e){e&&(y(n),t.d())}}}function Ao(e){let t,n;return{c(){t=w("img"),l(t.src,n=e[0])||B(t,"src",n),B(t,"alt",""),B(t,"class","svelte-henmd1")},m(e,n){v(e,t,n)},p(e,r){1&r[0]&&!l(t.src,n=e[0])&&B(t,"src",n)},d(e){e&&y(t)}}}function So(e){let t,n,r,s,i,a,l,c,h,u,d,p,g,m,b,x,E,S,C,H,M,I,P,O,L,R,N,U,D,z,G,F=e[4]?` ${e[29]("widget.demoSuffix")}`:"",j=[],q=new Map,V=e[29]("widget.sendButton")+"",Z=e[5]&&Co(e),X=le(e[28]);const K=e=>e[101].sender+e[101].content.substring(0,30)+Math.random();for(let t=0;t<X.length;t+=1){let n=yo(e,X,t),r=K(n);q.set(r,j[t]=Ro(r,n))}let Y=!e[4]&&e[32]?.message&&No(e),W=e[36]&&e[24].length>0&&Uo(e),Q=e[19]&&zo(e);return{c(){t=w("div"),n=w("div"),r=w("div"),s=k(e[41]),i=k(F),a=$(),l=w("div"),c=w("button"),h=k("↺"),p=$(),Z&&Z.c(),g=$(),m=w("div");for(let e=0;e<j.length;e+=1)j[e].c();b=$(),Y&&Y.c(),x=$(),W&&W.c(),E=$(),S=w("div"),C=w("input"),I=$(),P=w("button"),O=k(V),R=$(),N=w("div"),U=k(e[40]),D=$(),Q&&Q.c(),B(r,"class","svelte-henmd1"),B(c,"id","reset-chat"),B(c,"title",u=e[29]("widget.resetTitle")),B(c,"aria-label",d=e[29]("widget.resetTitle")),B(c,"class","svelte-henmd1"),B(l,"class","header-buttons svelte-henmd1"),B(n,"id","chat-header"),B(n,"class","svelte-henmd1"),B(m,"id","chat-messages"),B(m,"aria-live","polite"),B(m,"class","svelte-henmd1"),B(C,"type","text"),B(C,"id","user-input"),B(C,"placeholder",H=e[4]?e[29]("widget.placeholderDisabled"):e[29]("widget.placeholder")),C.disabled=e[4],B(C,"aria-label",M=e[29]("widget.placeholder")),B(C,"class","svelte-henmd1"),B(P,"id","send-button"),P.disabled=L=e[4]||!!e[32]||!e[31].trim(),B(P,"class","svelte-henmd1"),B(S,"id","chat-input"),B(S,"class","svelte-henmd1"),B(N,"id","chat-footer"),B(N,"class","svelte-henmd1"),B(t,"id","chat-container"),B(t,"class","svelte-henmd1")},m(o,u){v(o,t,u),f(t,n),f(n,r),f(r,s),f(r,i),f(n,a),f(n,l),f(l,c),f(c,h),f(l,p),Z&&Z.m(l,null),f(t,g),f(t,m);for(let e=0;e<j.length;e+=1)j[e]&&j[e].m(m,null);f(m,b),Y&&Y.m(m,null),e[61](m),f(t,x),W&&W.m(t,null),f(t,E),f(t,S),f(S,C),e[63](C),A(C,e[31]),f(S,I),f(S,P),f(P,O),f(t,R),f(t,N),f(N,U),f(t,D),Q&&Q.m(t,null),z||(G=[T(c,"click",e[47]),T(C,"input",e[64]),T(C,"keydown",e[65]),T(C,"input",e[42]),T(P,"click",e[45])],z=!0)},p(e,n){1024&n[1]&&_(s,e[41]),536870928&n[0]&&F!==(F=e[4]?` ${e[29]("widget.demoSuffix")}`:"")&&_(i,F),536870912&n[0]&&u!==(u=e[29]("widget.resetTitle"))&&B(c,"title",u),536870912&n[0]&&d!==(d=e[29]("widget.resetTitle"))&&B(c,"aria-label",d),e[5]?Z?Z.p(e,n):(Z=Co(e),Z.c(),Z.m(l,null)):Z&&(Z.d(1),Z=null),271581188&n[0]|8192&n[1]&&(X=le(e[28]),j=he(j,n,K,0,e,X,q,m,ce,Ro,b,yo)),!e[4]&&e[32]?.message?Y?Y.p(e,n):(Y=No(e),Y.c(),Y.m(m,null)):Y&&(Y.d(1),Y=null),e[36]&&e[24].length>0?W?(W.p(e,n),16777216&n[0]|32&n[1]&&oe(W,1)):(W=Uo(e),W.c(),oe(W,1),W.m(t,E)):W&&(ne(),se(W,1,0,(()=>{W=null})),re()),536870928&n[0]&&H!==(H=e[4]?e[29]("widget.placeholderDisabled"):e[29]("widget.placeholder"))&&B(C,"placeholder",H),16&n[0]&&(C.disabled=e[4]),536870912&n[0]&&M!==(M=e[29]("widget.placeholder"))&&B(C,"aria-label",M),1&n[1]&&C.value!==e[31]&&A(C,e[31]),536870912&n[0]&&V!==(V=e[29]("widget.sendButton")+"")&&_(O,V),16&n[0]|3&n[1]&&L!==(L=e[4]||!!e[32]||!e[31].trim())&&(P.disabled=L),512&n[1]&&_(U,e[40]),e[19]?Q?Q.p(e,n):(Q=zo(e),Q.c(),Q.m(t,null)):Q&&(Q.d(1),Q=null)},d(n){n&&y(t),Z&&Z.d();for(let e=0;e<j.length;e+=1)j[e].d();Y&&Y.d(),e[61](null),W&&W.d(),e[63](null),Q&&Q.d(),z=!1,o(G)}}}function Co(e){let t,n,r,o,s,i;return{c(){t=w("button"),n=k("×"),B(t,"id","close-chat"),B(t,"title",r=e[29]("widget.closeTitle")),B(t,"aria-label",o=e[29]("widget.closeTitle")),B(t,"class","svelte-henmd1")},m(r,o){v(r,t,o),f(t,n),s||(i=T(t,"click",e[43]),s=!0)},p(e,n){536870912&n[0]&&r!==(r=e[29]("widget.closeTitle"))&&B(t,"title",r),536870912&n[0]&&o!==(o=e[29]("widget.closeTitle"))&&B(t,"aria-label",o)},d(e){e&&y(t),s=!1,i()}}}function Ho(e){let t,n;return{c(){t=w("img"),l(t.src,n=e[20])||B(t,"src",n),B(t,"alt","User Icon"),B(t,"class","message-icon user-icon svelte-henmd1")},m(e,n){v(e,t,n)},p(e,r){1048576&r[0]&&!l(t.src,n=e[20])&&B(t,"src",n)},d(e){e&&y(t)}}}function Mo(e){let t,n;return{c(){t=w("img"),l(t.src,n=e[21])||B(t,"src",n),B(t,"alt","Bot Icon"),B(t,"class","message-icon bot-icon svelte-henmd1")},m(e,n){v(e,t,n)},p(e,r){2097152&r[0]&&!l(t.src,n=e[21])&&B(t,"src",n)},d(e){e&&y(t)}}}function Io(e){let t,n,r,o,s=e[101].ctaText+"";return{c(){t=w("a"),n=k(s),B(t,"href",r=e[44](e[101].url,"chat","chatbot","chatbot")),B(t,"target",o=e[2]?"_blank":"_self"),B(t,"class","cta-button svelte-henmd1")},m(e,r){v(e,t,r),f(t,n)},p(e,i){268435456&i[0]&&s!==(s=e[101].ctaText+"")&&_(n,s),268435456&i[0]&&r!==(r=e[44](e[101].url,"chat","chatbot","chatbot"))&&B(t,"href",r),4&i[0]&&o!==(o=e[2]?"_blank":"_self")&&B(t,"target",o)},d(e){e&&y(t)}}}function Po(e){let t,n=le(e[101].links),r=[];for(let t=0;t<n.length;t+=1)r[t]=Oo(wo(e,n,t));return{c(){t=w("div");for(let e=0;e<r.length;e+=1)r[e].c();B(t,"class","message-links svelte-henmd1")},m(e,n){v(e,t,n);for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,null)},p(e,o){if(268435456&o[0]|8192&o[1]){let s;for(n=le(e[101].links),s=0;s<n.length;s+=1){const i=wo(e,n,s);r[s]?r[s].p(i,o):(r[s]=Oo(i),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(e){e&&y(t),function(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}(r,e)}}}function Oo(e){let t,n,r,o=e[104].text+"";return{c(){t=w("a"),n=k(o),B(t,"href",r=e[44](e[104].url,"chat","chatbot","chatbot")),B(t,"target","_blank"),B(t,"class","cta-button svelte-henmd1")},m(e,r){v(e,t,r),f(t,n)},p(e,s){268435456&s[0]&&o!==(o=e[104].text+"")&&_(n,o),268435456&s[0]&&r!==(r=e[44](e[104].url,"chat","chatbot","chatbot"))&&B(t,"href",r)},d(e){e&&y(t)}}}function Lo(e){let t,n,r=e[101].productCarousel+"";return{c(){t=new H(!1),n=E(),t.a=n},m(e,o){t.m(r,e,o),v(e,n,o)},p(e,n){268435456&n[0]&&r!==(r=e[101].productCarousel+"")&&t.p(r)},d(e){e&&(y(n),t.d())}}}function Ro(e,t){let n,r,o,s,i,a,l,c,h,u=t[101].content+"",d="user"===t[101].sender&&t[20]&&Ho(t),p="bot"===t[101].sender&&t[21]&&Mo(t),g=t[101].url&&Io(t),m=t[101].links&&t[101].links.length>0&&Po(t),b=t[101].productCarousel&&Lo(t);return{key:e,first:null,c(){n=w("div"),d&&d.c(),r=$(),p&&p.c(),o=$(),s=w("div"),a=$(),g&&g.c(),l=$(),m&&m.c(),c=$(),b&&b.c(),h=E(),B(s,"class","message-content svelte-henmd1"),B(n,"class",i="message "+t[101].sender+"-message svelte-henmd1"),this.first=n},m(e,t){v(e,n,t),d&&d.m(n,null),f(n,r),p&&p.m(n,null),f(n,o),f(n,s),s.innerHTML=u,v(e,a,t),g&&g.m(e,t),v(e,l,t),m&&m.m(e,t),v(e,c,t),b&&b.m(e,t),v(e,h,t)},p(e,a){"user"===(t=e)[101].sender&&t[20]?d?d.p(t,a):(d=Ho(t),d.c(),d.m(n,r)):d&&(d.d(1),d=null),"bot"===t[101].sender&&t[21]?p?p.p(t,a):(p=Mo(t),p.c(),p.m(n,o)):p&&(p.d(1),p=null),268435456&a[0]&&u!==(u=t[101].content+"")&&(s.innerHTML=u),268435456&a[0]&&i!==(i="message "+t[101].sender+"-message svelte-henmd1")&&B(n,"class",i),t[101].url?g?g.p(t,a):(g=Io(t),g.c(),g.m(l.parentNode,l)):g&&(g.d(1),g=null),t[101].links&&t[101].links.length>0?m?m.p(t,a):(m=Po(t),m.c(),m.m(c.parentNode,c)):m&&(m.d(1),m=null),t[101].productCarousel?b?b.p(t,a):(b=Lo(t),b.c(),b.m(h.parentNode,h)):b&&(b.d(1),b=null)},d(e){e&&(y(n),y(a),y(l),y(c),y(h)),d&&d.d(),p&&p.d(),g&&g.d(e),m&&m.d(e),b&&b.d(e)}}}function No(e){let t,n,r,o,s,i,a=e[32].message+"";return{c(){t=w("div"),n=w("div"),r=w("span"),o=k(a),s=$(),i=w("div"),i.innerHTML='<span class="svelte-henmd1"></span><span class="svelte-henmd1"></span><span class="svelte-henmd1"></span>',B(r,"class","loading-text svelte-henmd1"),B(i,"class","typing-dots svelte-henmd1"),B(n,"class","loading-indicator svelte-henmd1"),B(t,"class","loading-container svelte-henmd1"),B(t,"aria-live","assertive")},m(e,a){v(e,t,a),f(t,n),f(n,r),f(r,o),f(n,s),f(n,i)},p(e,t){2&t[1]&&a!==(a=e[32].message+"")&&_(o,a)},d(e){e&&y(t)}}}function Uo(e){let t,n,r,o=[],s=new Map,i=le(e[24]);const a=e=>e[98];for(let t=0;t<i.length;t+=1){let n=vo(e,i,t),r=a(n);s.set(r,o[t]=Do(r,n))}return{c(){t=w("div");for(let e=0;e<o.length;e+=1)o[e].c();B(t,"class","quick-messages-flow svelte-henmd1")},m(e,n){v(e,t,n);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,null);r=!0},p(e,n){16777232&n[0]|32768&n[1]&&(i=le(e[24]),o=he(o,n,a,0,e,i,s,t,ce,Do,null,vo))},i(e){r||(e&&Z((()=>{r&&(n||(n=ae(t,bo,{duration:300},!0)),n.run(1))})),r=!0)},o(e){e&&(n||(n=ae(t,bo,{duration:300},!1)),n.run(0)),r=!1},d(e){e&&y(t);for(let e=0;e<o.length;e+=1)o[e].d();e&&n&&n.end()}}}function Do(e,t){let n,r,o,s,i,a=t[98]+"";function l(){return t[62](t[98])}return{key:e,first:null,c(){n=w("button"),r=k(a),o=$(),B(n,"class","quick-message-btn svelte-henmd1"),n.disabled=t[4],this.first=n},m(e,t){v(e,n,t),f(n,r),f(n,o),s||(i=T(n,"click",l),s=!0)},p(e,o){t=e,16777216&o[0]&&a!==(a=t[98]+"")&&_(r,a),16&o[0]&&(n.disabled=t[4])},d(e){e&&y(n),s=!1,i()}}}function zo(e){let t,n,r,o,s=e[29]("widget.poweredBy")+"";return{c(){t=w("div"),n=k(s),r=$(),o=w("a"),o.textContent="Autocust",B(o,"href","https://www.autocust.it"),B(o,"target","_blank"),B(o,"rel","noopener noreferrer"),B(o,"class","svelte-henmd1"),B(t,"id","powered-by"),B(t,"class","svelte-henmd1")},m(e,s){v(e,t,s),f(t,n),f(t,r),f(t,o)},p(e,t){536870912&t[0]&&s!==(s=e[29]("widget.poweredBy")+"")&&_(n,s)},d(e){e&&y(t)}}}function Go(t){let n,r,o,s=(!t[30]||t[4])&&ko(t),i=t[30]&&So(t);return{c(){n=w("div"),s&&s.c(),r=$(),i&&i.c(),B(n,"id","chat-widget"),B(n,"class",o=t[1]+" theme-"+t[6]+" svelte-henmd1"),C(n,"fullscreen",t[30]&&t[3]),S(n,"--widget-font-size",t[27]),S(n,"--widget-mobile-font-size",t[37]),S(n,"--widget-width",t[25]),S(n,"--widget-height",t[26]),S(n,"--user-msg-bg",t[7]),S(n,"--user-msg-text",t[8]),S(n,"--assistant-msg-bg",t[9]),S(n,"--assistant-msg-text",t[10]),S(n,"--chat-btn-bg",t[11]),S(n,"--chat-btn-text",t[12]),S(n,"--cta-btn-bg",t[13]),S(n,"--cta-btn-text",t[14]),S(n,"--cta-btn-hover-bg",t[15]),S(n,"--cta-btn-hover-text",t[16]),S(n,"--header-bg",t[17]),S(n,"--header-text",t[18])},m(e,t){v(e,n,t),s&&s.m(n,null),f(n,r),i&&i.m(n,null)},p(e,t){!e[30]||e[4]?s?s.p(e,t):(s=ko(e),s.c(),s.m(n,r)):s&&(s.d(1),s=null),e[30]?i?i.p(e,t):(i=So(e),i.c(),i.m(n,null)):i&&(i.d(1),i=null),66&t[0]&&o!==(o=e[1]+" theme-"+e[6]+" svelte-henmd1")&&B(n,"class",o),1073741898&t[0]&&C(n,"fullscreen",e[30]&&e[3]),134217728&t[0]&&S(n,"--widget-font-size",e[27]),64&t[1]&&S(n,"--widget-mobile-font-size",e[37]),33554432&t[0]&&S(n,"--widget-width",e[25]),67108864&t[0]&&S(n,"--widget-height",e[26]),128&t[0]&&S(n,"--user-msg-bg",e[7]),256&t[0]&&S(n,"--user-msg-text",e[8]),512&t[0]&&S(n,"--assistant-msg-bg",e[9]),1024&t[0]&&S(n,"--assistant-msg-text",e[10]),2048&t[0]&&S(n,"--chat-btn-bg",e[11]),4096&t[0]&&S(n,"--chat-btn-text",e[12]),8192&t[0]&&S(n,"--cta-btn-bg",e[13]),16384&t[0]&&S(n,"--cta-btn-text",e[14]),32768&t[0]&&S(n,"--cta-btn-hover-bg",e[15]),65536&t[0]&&S(n,"--cta-btn-hover-text",e[16]),131072&t[0]&&S(n,"--header-bg",e[17]),262144&t[0]&&S(n,"--header-text",e[18])},i:e,o:e,d(e){e&&y(n),s&&s.d(),i&&i.d()}}}mo.options=mo.setOptions=function(e){return fo.setOptions(e),mo.defaults=fo.defaults,ur(mo.defaults),mo},mo.getDefaults=cr,mo.defaults=hr,mo.use=function(...e){return fo.use(...e),mo.defaults=fo.defaults,ur(mo.defaults),mo},mo.walkTokens=function(e,t){return fo.walkTokens(e,t)},mo.parseInline=fo.parseInline,mo.Parser=po,mo.parser=po.parse,mo.Renderer=ho,mo.TextRenderer=uo,mo.Lexer=co,mo.lexer=co.lex,mo.Tokenizer=Br,mo.Hooks=go,mo.parse=mo,mo.options,mo.setOptions,mo.use,mo.walkTokens,mo.parseInline,po.parse,co.lex;function Fo(e){if(!e)return[];const t=/\[([^\]]+)\]\(([^)]+)\)/g,n=[];let r;for(;null!==(r=t.exec(e));)n.push({text:r[1],url:r[2]});return n}function jo(e){try{const t=navigator.language||"en";return new Intl.NumberFormat(t,{style:"currency",currency:"EUR"}).format(e)}catch(t){return console.warn("Intl.NumberFormat failed, falling back to basic format.",t),`€${Number(e).toFixed(2)}`}}function qo(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}function Vo(e,t,n){let r,o,s,i,a,l,h,u,d,p,g,f,m;var b,x;b=tr,x=e=>n(29,m=e),e.$$.on_destroy.push(c(b,x));let v,y,w,k,$,{title:E=null}=t,{apiUrl:T}=t,{initialMessage:B=null}=t,{buttonIcon:_="💬"}=t,{ctaText:A=null}=t,{position:S="bottom-right"}=t,{openInNewTab:C=!0}=t,{enableUTM:H=!0}=t,{startOpen:M=!1}=t,{fullScreen:I=!1}=t,{isDemo:P=!1}=t,{closable:O=!0}=t,{theme:L="light"}=t,{userMessageBgColor:R="#e0e0e0"}=t,{userMessageTextColor:U="#000000"}=t,{assistantMessageBgColor:z="#f8f8f8"}=t,{assistantMessageTextColor:G="#000000"}=t,{chatButtonBgColor:F="#000000"}=t,{chatButtonTextColor:j="#ffffff"}=t,{ctaButtonBgColor:q="#f8f8f8"}=t,{ctaButtonTextColor:Z="#000000"}=t,{ctaButtonHoverBgColor:X=null}=t,{ctaButtonHoverTextColor:K=null}=t,{headerBgColor:Y=null}=t,{headerTextColor:W=null}=t,{footerText:Q=null}=t,{showPoweredBy:J=!0}=t,{agentId:ee="xyz"}=t,{cms:te=""}=t,{persistentSession:ne=!1}=t,{sessionExpiration:re=24}=t,{userMessageIcon:oe=null}=t,{botMessageIcon:se=null}=t,{buttonImageUrl:ie=null}=t,{buttonOverlayText:ae=null}=t,{buttonOverlayDelay:le=5e3}=t,{quickMessages:ce=[]}=t,{width:he="340px"}=t,{height:ue="485px"}=t,{fontSize:de="16px"}=t,pe=M,ge=[],fe="",me=null,be="",xe=!1,ve=0,ye=null,we=!1,ke=!1,$e=!1,Ee=function(){const e=`aisa_agent_${ee}`,t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));return t?t[2]:null}()||qo();const Te=[{id:1,name:"Comfort Running Shoe",price:89.99,regular_price:110,image:"https://placehold.co/600x400",url:"#product-1",brand:"Brand A"},{id:2,name:"Lightweight Pro Shoe",price:120,regular_price:120,image:"https://placehold.co/600x400",url:"#product-2",brand:"Brand B"},{id:3,name:"Trail Max Shoe",price:99.5,regular_price:130,image:"https://placehold.co/600x400",url:"#product-3",brand:"Brand A"}],Be=new mo.Renderer;Be.link=function(e,t,n){const r=mo.Renderer.prototype.link.call(this,e,t,n);return C?r.replace("<a ",'<a target="_blank" '):r.replace("<a ",'<a target="_self" ')},mo.setOptions({renderer:Be});const _e=(e,t)=>`chat_${e}_${t}`;function Ae(e,t){if("undefined"!=typeof localStorage&&ne&&!P)try{const n=_e("meta",e),r=_e("messages",e),o={lastActivity:Date.now()};localStorage.setItem(n,JSON.stringify(o)),localStorage.setItem(r,JSON.stringify(t))}catch(e){console.error("Error saving session to local storage:",e)}}function Se(e){if("undefined"!=typeof localStorage&&ne&&!P)try{const t=_e("meta",e),n=_e("messages",e);localStorage.removeItem(t),localStorage.removeItem(n),console.log(`Session ${e} cleared from local storage.`)}catch(e){console.error("Error clearing session from local storage:",e)}}function Ce(e){let t=`aisa_agent_${ee}=${e};path=/;SameSite=Lax`;if(ne&&!P){t+=`;Max-Age=${2592e3}`}document.cookie=t}function He(){clearTimeout($),!P&&pe&&($=setTimeout((()=>{""!==fe.trim()||me||n(36,$e=!0)}),3e4))}async function Me(){ke&&!P&&(n(34,ke=!1),clearTimeout(w)),!O&&pe||(n(30,pe=!pe),pe?(await V(),v&&n(33,v.scrollTop=P?0:v.scrollHeight,v),P||xe||we||Ie(),P||(h||n(36,$e=!0),He())):P||(clearTimeout($),n(36,$e=!1),we=!1,ve=0,y&&(y.close(1e3,"Chat closed by user"),xe=!1)))}function Ie(){if(P)return;if(!T)return console.error("API URL is not defined. WebSocket connection cannot be established."),void Oe(m("status.configErrorApi"),"bot",{persist:!1});const e=T.replace(/^http/,"ws");y=new WebSocket(`${e}/ws-chat?sessionId=${Ee}&agentId=${encodeURIComponent(ee)}`),y.onopen=()=>{console.log("WebSocket connected"),xe=!0,we=!1,ve=0,n(32,me=null)},y.onmessage=async e=>{try{const t=JSON.parse(e.data);switch(t.type){case"thinking":n(32,me={type:"thinking",message:m("status.thinking")});break;case"searching":n(32,me={type:"searching",message:m("status.searching")});break;case"token":if(n(32,me={type:"writing"}),be+=t.content,ge.length>0&&"bot"===ge[ge.length-1].sender){const e=ge.at(-1);e.content=mo.parse(be.replace(/【.*?】/g,"")),e.links=Fo(be),n(28,ge=[...ge]),ne&&!P&&Ae(Ee,ge)}else Oe(be,"bot");V().then((()=>{v&&n(33,v.scrollTop=v.scrollHeight,v)}));break;case"products_search":const e=await async function(){if(P)return Te;try{const e=await fetch(`${T}/products/${Ee}`,{headers:{"X-Agent-ID":ee}});return e.ok?(await e.json()).products:(console.error(`Error fetching products: ${e.status} ${e.statusText}`),null)}catch(e){return console.error("Error fetching products:",e),null}}();if(e&&e.length>0){const t=Pe(e),r=ge[ge.length-1];r&&"bot"===r.sender&&(n(28,ge[ge.length-1]={...r,productCarousel:t},ge),n(28,ge=[...ge]),ne&&!P&&Ae(Ee,ge))}break;case"done":n(32,me=null),ne&&!P&&ge.length>0&&Ae(Ee,ge),be="",k?.focus(),He();break;case"error":n(32,me=null),console.error("WebSocket error:",t.content),Oe(m("status.error"),"bot"),He()}}catch(e){console.error("Error processing message:",e)}},y.onerror=e=>{console.error("WebSocket error:",e),xe=!1,n(32,me=null),we||Oe(m("status.connectionError"),"bot",{persist:!1})},y.onclose=e=>{console.log("WebSocket connection closed:",e.code,e.reason),xe=!1,pe&&1e3!==e.code&&!we?function(){if(P||we||ve>=5)return;we=!0;const e=Math.min(1e3*Math.pow(2,ve),16e3);n(32,me={type:"reconnecting",message:m("status.reconnecting",{values:{current:ve+1,max:5}})}),console.log(`Attempting reconnect ${ve+1}/5 in ${e}ms`),clearTimeout(ye),ye=setTimeout((()=>{if(!pe||xe)return we=!1,n(32,me=null),void console.log("Reconnect aborted: Chat closed or already connected.");if(ve++,ve>5)return n(32,me=null),Oe(m("status.reconnectFailed"),"bot",{persist:!1}),we=!1,void console.log("Max reconnect attempts reached.");try{console.log(`Executing reconnect attempt ${ve}`),n(32,me={type:"reconnecting",message:m("status.reconnecting",{values:{current:ve,max:5}})}),Ie()}catch(e){console.error("Reconnection failed immediately during initWebSocket:",e),we=!1,n(32,me=null),Oe(m("status.reconnectFailed"),"bot")}}),e)}():(we=!1,n(32,me=null))}}function Pe(e){if(!e||0===e.length)return"";return`<div class="product-carousel">${e.map((e=>`\n      <div class="carousel-product">\n        <a href="${Le(e.url,"chat","chatbot","chatbot")}"\n           target="${C?"_blank":"_self"}"\n           class="product-link">\n          ${e.regular_price&&e.regular_price>e.price?`<span class="discount-label">${function(e,t){if(!t||t<=e)return null;const n=(t-e)/t*100;return`-${Math.round(n)}%`}(e.price,e.regular_price)}</span>`:""}\n          <img src="${e.image}" alt="${e.name}">\n          ${e.brand?`<div class="product-brand">${e.brand}</div>`:""}\n          <h4>${e.name}</h4>\n          <div class="product-price">\n            ${e.regular_price&&e.regular_price!==e.price?`<span class="regular-price">${jo(e.regular_price)}</span>`:""}\n            <span class="current-price">${jo(e.price)}</span>\n          </div>\n        </a>\n        ${function(e){const t=m("product.buyButton");if(P||!te)return`<a href="${Le(e.url,"chat","chatbot","chatbot_add_to_cart")}" target="_blank" class="add-to-cart"><span>${t}</span></a>`;if("prestashop"===te)return`\n        <form class="product-miniature__form" action="/carrello" method="post">\n          <input type="hidden" name="id_product" value="${e.id}">\n          <input type="hidden" name="id_product_attribute" value="${e.id_product_attribute||0}">\n          <input type="hidden" name="qty" value="1" class="form-control input-qty">\n          <input type="hidden" name="token" value="${window.prestashop?.static_token||""}">\n          <input type="hidden" name="add" value="1">\n          <button class="btn add-to-cart" data-button-action="add-to-cart" type="submit"><span>${t}</span></button>\n        </form>`;return`<a href="${Le(e.url,"chat","chatbot","chatbot_add_to_cart")}" target="${C?"_blank":"_self"}" class="add-to-cart"><span>${t}</span></a>`}(e)}\n      </div>\n    `)).join("")}</div>`}function Oe(e,t,r={}){let o,i=[];const a=!r.hasOwnProperty("persist")||r.persist,l=e||"";if("bot"===t){i=Fo(l);const e=l.replace(/【.*?】/g,"");o=mo.parse(e)}else o=mo.parse(l);n(28,ge=[...ge,{content:o,sender:t,links:i,productCarousel:r.productCarousel||"",url:r.url||"",ctaText:r.ctaText||s}]),ne&&!P&&a&&Ae(Ee,ge),V().then((()=>{v&&!P&&n(33,v.scrollTop=v.scrollHeight,v)}))}function Le(e,t,n,r){if(!H||!e||e.startsWith("#"))return e;try{const o=new URL(e,window.location.origin);return o.searchParams.set("utm_source",t),o.searchParams.set("utm_medium",n),o.searchParams.set("utm_campaign",r),o.toString()}catch(t){return console.warn("Could not add UTM params to invalid URL:",e,t),e}}async function Re(){if(P)return;const e=fe.trim();if(e&&xe&&!me){n(36,$e=!1),clearTimeout($),Oe(e,"user"),n(31,fe=""),n(32,me={type:"thinking",message:m("status.thinking")}),be="";try{y.send(JSON.stringify({chatInput:e}))}catch(e){console.error("Error sending message:",e),Oe(m("status.sendError"),"bot"),n(32,me=null),He()}}}function Ne(e){P||me||(n(31,fe=e),Re())}function Ue(){n(28,ge=[]),Oe(B??d,"bot"),Oe(p,"user");const e=Pe(Te);Oe(g,"bot",{url:f.url,ctaText:f.text,productCarousel:e}),V().then((()=>{v&&n(33,v.scrollTop=0,v)}))}N((()=>{if(!ae||pe&&!P||(n(34,ke=!0),P||(w=setTimeout((()=>{n(34,ke=!1)}),parseInt(le,10)||5e3))),P)Ue(),n(36,$e=!h);else{Ce(Ee);let e=!1;if(ne){const t=function(e){if("undefined"==typeof localStorage||!ne||P)return null;try{const t=_e("meta",e),n=_e("messages",e),r=localStorage.getItem(t);if(!r)return null;const o=JSON.parse(r),s=parseFloat(re)||24;if((Date.now()-o.lastActivity)/36e5>s)return console.log(`Session ${e} expired. Clearing from local storage.`),Se(e),null;const i=localStorage.getItem(n);return i?(console.log(`Loading session ${e} from local storage.`),{messages:JSON.parse(i)}):null}catch(t){return console.error("Error loading session from local storage:",t),Se(e),null}}(Ee);t&&t.messages&&(n(28,ge=t.messages),e=!0,Ae(Ee,ge),V().then((()=>{v&&n(33,v.scrollTop=v.scrollHeight,v)})))}e||0!==ge.length||Oe(o,"bot"),n(36,$e=!h),M&&(xe||we||Ie(),He())}return()=>{clearTimeout(w),clearTimeout($),P||(y&&(y.close(1e3,"Component unmounted"),xe=!1),clearTimeout(ye),we=!1)}}));return e.$$set=e=>{"title"in e&&n(48,E=e.title),"apiUrl"in e&&n(49,T=e.apiUrl),"initialMessage"in e&&n(50,B=e.initialMessage),"buttonIcon"in e&&n(0,_=e.buttonIcon),"ctaText"in e&&n(51,A=e.ctaText),"position"in e&&n(1,S=e.position),"openInNewTab"in e&&n(2,C=e.openInNewTab),"enableUTM"in e&&n(52,H=e.enableUTM),"startOpen"in e&&n(53,M=e.startOpen),"fullScreen"in e&&n(3,I=e.fullScreen),"isDemo"in e&&n(4,P=e.isDemo),"closable"in e&&n(5,O=e.closable),"theme"in e&&n(6,L=e.theme),"userMessageBgColor"in e&&n(7,R=e.userMessageBgColor),"userMessageTextColor"in e&&n(8,U=e.userMessageTextColor),"assistantMessageBgColor"in e&&n(9,z=e.assistantMessageBgColor),"assistantMessageTextColor"in e&&n(10,G=e.assistantMessageTextColor),"chatButtonBgColor"in e&&n(11,F=e.chatButtonBgColor),"chatButtonTextColor"in e&&n(12,j=e.chatButtonTextColor),"ctaButtonBgColor"in e&&n(13,q=e.ctaButtonBgColor),"ctaButtonTextColor"in e&&n(14,Z=e.ctaButtonTextColor),"ctaButtonHoverBgColor"in e&&n(15,X=e.ctaButtonHoverBgColor),"ctaButtonHoverTextColor"in e&&n(16,K=e.ctaButtonHoverTextColor),"headerBgColor"in e&&n(17,Y=e.headerBgColor),"headerTextColor"in e&&n(18,W=e.headerTextColor),"footerText"in e&&n(54,Q=e.footerText),"showPoweredBy"in e&&n(19,J=e.showPoweredBy),"agentId"in e&&n(55,ee=e.agentId),"cms"in e&&n(56,te=e.cms),"persistentSession"in e&&n(57,ne=e.persistentSession),"sessionExpiration"in e&&n(58,re=e.sessionExpiration),"userMessageIcon"in e&&n(20,oe=e.userMessageIcon),"botMessageIcon"in e&&n(21,se=e.botMessageIcon),"buttonImageUrl"in e&&n(22,ie=e.buttonImageUrl),"buttonOverlayText"in e&&n(23,ae=e.buttonOverlayText),"buttonOverlayDelay"in e&&n(59,le=e.buttonOverlayDelay),"quickMessages"in e&&n(24,ce=e.quickMessages),"width"in e&&n(25,he=e.width),"height"in e&&n(26,ue=e.height),"fontSize"in e&&n(27,de=e.fontSize)},e.$$.update=()=>{536870912&e.$$.dirty[0]|131072&e.$$.dirty[1]&&n(41,r=E??m("widget.title")),536870912&e.$$.dirty[0]|524288&e.$$.dirty[1]&&(o=B??m("widget.initialMessage")),536870912&e.$$.dirty[0]|1048576&e.$$.dirty[1]&&(s=A??m("widget.ctaText")),536870912&e.$$.dirty[0]|8388608&e.$$.dirty[1]&&n(40,i=Q??m("widget.footerText")),1&e.$$.dirty[0]&&n(39,a=null!=_.match(/\.(jpeg|jpg|gif|png)$/)),1&e.$$.dirty[0]&&n(38,l=_.trim().startsWith("<svg")),268435456&e.$$.dirty[0]&&(h=ge.some((e=>"user"===e.sender))),134217728&e.$$.dirty[0]&&n(37,u=(()=>{const e=parseInt(de,10),t=de.match(/[a-zA-Z%]+$/)?.[0]||"px";return isNaN(e)?"12px":`${Math.round(.7*e)}${t}`})()),536870912&e.$$.dirty[0]&&(d=m("demo.initialMessage")),536870912&e.$$.dirty[0]&&(p=m("demo.userMessage")),536870912&e.$$.dirty[0]&&(g=m("demo.botReply")),536870912&e.$$.dirty[0]&&(f={text:m("demo.ctaText"),url:"#product-xyz"})},[_,S,C,I,P,O,L,R,U,z,G,F,j,q,Z,X,K,Y,W,J,oe,se,ie,ae,ce,he,ue,de,ge,m,pe,fe,me,v,ke,k,$e,u,l,a,i,r,function(){$e&&n(36,$e=!1)},Me,Le,Re,Ne,async function(){if(P)return void Ue();const e=Ee;ne&&!P&&Se(e),Ee=qo(),Ce(Ee),n(28,ge=[]),be="",n(32,me=null),Oe(o,"bot"),V().then((()=>{v&&n(33,v.scrollTop=0,v)})),y&&(y.close(1e3,"Session reset"),xe=!1),clearTimeout(ye),we=!1,ve=0;try{const t=await fetch(`${T}/reset-session?sessionId=${e}`,{method:"DELETE",headers:{"X-Agent-ID":ee}});t.ok?console.log(`Session ${e} reset successfully on backend.`):console.error("Reset chat failed on backend:",await t.text())}catch(e){console.error("Error sending reset chat request:",e)}pe&&Ie()},E,T,B,A,H,M,Q,ee,te,ne,re,le,e=>("Enter"===e.key||" "===e.key)&&Me(),function(e){D[e?"unshift":"push"]((()=>{v=e,n(33,v)}))},e=>Ne(e),function(e){D[e?"unshift":"push"]((()=>{k=e,n(35,k)}))},function(){fe=this.value,n(31,fe)},e=>"Enter"===e.key&&Re()]}class Zo extends fe{constructor(e){super(),de(this,e,Vo,Go,i,{title:48,apiUrl:49,initialMessage:50,buttonIcon:0,ctaText:51,position:1,openInNewTab:2,enableUTM:52,startOpen:53,fullScreen:3,isDemo:4,closable:5,theme:6,userMessageBgColor:7,userMessageTextColor:8,assistantMessageBgColor:9,assistantMessageTextColor:10,chatButtonBgColor:11,chatButtonTextColor:12,ctaButtonBgColor:13,ctaButtonTextColor:14,ctaButtonHoverBgColor:15,ctaButtonHoverTextColor:16,headerBgColor:17,headerTextColor:18,footerText:54,showPoweredBy:19,agentId:55,cms:56,persistentSession:57,sessionExpiration:58,userMessageIcon:20,botMessageIcon:21,buttonImageUrl:22,buttonOverlayText:23,buttonOverlayDelay:59,quickMessages:24,width:25,height:26,fontSize:27},xo,[-1,-1,-1,-1])}get title(){return this.$$.ctx[48]}set title(e){this.$$set({title:e}),W()}get apiUrl(){return this.$$.ctx[49]}set apiUrl(e){this.$$set({apiUrl:e}),W()}get initialMessage(){return this.$$.ctx[50]}set initialMessage(e){this.$$set({initialMessage:e}),W()}get buttonIcon(){return this.$$.ctx[0]}set buttonIcon(e){this.$$set({buttonIcon:e}),W()}get ctaText(){return this.$$.ctx[51]}set ctaText(e){this.$$set({ctaText:e}),W()}get position(){return this.$$.ctx[1]}set position(e){this.$$set({position:e}),W()}get openInNewTab(){return this.$$.ctx[2]}set openInNewTab(e){this.$$set({openInNewTab:e}),W()}get enableUTM(){return this.$$.ctx[52]}set enableUTM(e){this.$$set({enableUTM:e}),W()}get startOpen(){return this.$$.ctx[53]}set startOpen(e){this.$$set({startOpen:e}),W()}get fullScreen(){return this.$$.ctx[3]}set fullScreen(e){this.$$set({fullScreen:e}),W()}get isDemo(){return this.$$.ctx[4]}set isDemo(e){this.$$set({isDemo:e}),W()}get closable(){return this.$$.ctx[5]}set closable(e){this.$$set({closable:e}),W()}get theme(){return this.$$.ctx[6]}set theme(e){this.$$set({theme:e}),W()}get userMessageBgColor(){return this.$$.ctx[7]}set userMessageBgColor(e){this.$$set({userMessageBgColor:e}),W()}get userMessageTextColor(){return this.$$.ctx[8]}set userMessageTextColor(e){this.$$set({userMessageTextColor:e}),W()}get assistantMessageBgColor(){return this.$$.ctx[9]}set assistantMessageBgColor(e){this.$$set({assistantMessageBgColor:e}),W()}get assistantMessageTextColor(){return this.$$.ctx[10]}set assistantMessageTextColor(e){this.$$set({assistantMessageTextColor:e}),W()}get chatButtonBgColor(){return this.$$.ctx[11]}set chatButtonBgColor(e){this.$$set({chatButtonBgColor:e}),W()}get chatButtonTextColor(){return this.$$.ctx[12]}set chatButtonTextColor(e){this.$$set({chatButtonTextColor:e}),W()}get ctaButtonBgColor(){return this.$$.ctx[13]}set ctaButtonBgColor(e){this.$$set({ctaButtonBgColor:e}),W()}get ctaButtonTextColor(){return this.$$.ctx[14]}set ctaButtonTextColor(e){this.$$set({ctaButtonTextColor:e}),W()}get ctaButtonHoverBgColor(){return this.$$.ctx[15]}set ctaButtonHoverBgColor(e){this.$$set({ctaButtonHoverBgColor:e}),W()}get ctaButtonHoverTextColor(){return this.$$.ctx[16]}set ctaButtonHoverTextColor(e){this.$$set({ctaButtonHoverTextColor:e}),W()}get headerBgColor(){return this.$$.ctx[17]}set headerBgColor(e){this.$$set({headerBgColor:e}),W()}get headerTextColor(){return this.$$.ctx[18]}set headerTextColor(e){this.$$set({headerTextColor:e}),W()}get footerText(){return this.$$.ctx[54]}set footerText(e){this.$$set({footerText:e}),W()}get showPoweredBy(){return this.$$.ctx[19]}set showPoweredBy(e){this.$$set({showPoweredBy:e}),W()}get agentId(){return this.$$.ctx[55]}set agentId(e){this.$$set({agentId:e}),W()}get cms(){return this.$$.ctx[56]}set cms(e){this.$$set({cms:e}),W()}get persistentSession(){return this.$$.ctx[57]}set persistentSession(e){this.$$set({persistentSession:e}),W()}get sessionExpiration(){return this.$$.ctx[58]}set sessionExpiration(e){this.$$set({sessionExpiration:e}),W()}get userMessageIcon(){return this.$$.ctx[20]}set userMessageIcon(e){this.$$set({userMessageIcon:e}),W()}get botMessageIcon(){return this.$$.ctx[21]}set botMessageIcon(e){this.$$set({botMessageIcon:e}),W()}get buttonImageUrl(){return this.$$.ctx[22]}set buttonImageUrl(e){this.$$set({buttonImageUrl:e}),W()}get buttonOverlayText(){return this.$$.ctx[23]}set buttonOverlayText(e){this.$$set({buttonOverlayText:e}),W()}get buttonOverlayDelay(){return this.$$.ctx[59]}set buttonOverlayDelay(e){this.$$set({buttonOverlayDelay:e}),W()}get quickMessages(){return this.$$.ctx[24]}set quickMessages(e){this.$$set({quickMessages:e}),W()}get width(){return this.$$.ctx[25]}set width(e){this.$$set({width:e}),W()}get height(){return this.$$.ctx[26]}set height(e){this.$$set({height:e}),W()}get fontSize(){return this.$$.ctx[27]}set fontSize(e){this.$$set({fontSize:e}),W()}}!function(e,t,n,r,o){let s=class extends pe{constructor(){super(e,n,o),this.$$p_d=t}static get observedAttributes(){return Object.keys(t).map((e=>(t[e].attribute||e).toLowerCase()))}};Object.keys(t).forEach((e=>{Object.defineProperty(s.prototype,e,{get(){return this.$$c&&e in this.$$c?this.$$c[e]:this.$$d[e]},set(n){n=ge(e,n,t),this.$$d[e]=n,this.$$c?.$set({[e]:n})}})})),r.forEach((e=>{Object.defineProperty(s.prototype,e,{get(){return this.$$c?.[e]}})})),e.element=s}(Zo,{title:{},apiUrl:{},initialMessage:{},buttonIcon:{},ctaText:{},position:{},openInNewTab:{type:"Boolean"},enableUTM:{type:"Boolean"},startOpen:{type:"Boolean"},fullScreen:{type:"Boolean"},isDemo:{type:"Boolean"},closable:{type:"Boolean"},theme:{},userMessageBgColor:{},userMessageTextColor:{},assistantMessageBgColor:{},assistantMessageTextColor:{},chatButtonBgColor:{},chatButtonTextColor:{},ctaButtonBgColor:{},ctaButtonTextColor:{},ctaButtonHoverBgColor:{},ctaButtonHoverTextColor:{},headerBgColor:{},headerTextColor:{},footerText:{},showPoweredBy:{type:"Boolean"},agentId:{},cms:{},persistentSession:{type:"Boolean"},sessionExpiration:{},userMessageIcon:{},botMessageIcon:{},buttonImageUrl:{},buttonOverlayText:{},buttonOverlayDelay:{},quickMessages:{},width:{},height:{},fontSize:{}},[],[],!0),(async()=>{try{await lr;const e=document.createElement("div"),t=document.currentScript;function n(e,n){const r=t?t.getAttribute(e):null;return null===r?n:"true"===r.toLowerCase()||"false"!==r.toLowerCase()&&r}function r(e){const n=t?t.getAttribute("data-position"):null;return["top-left","top-right","bottom-left","bottom-right"].includes(n)?n:e}t&&t.parentNode?t.parentNode.insertBefore(e,t):(console.warn("Could not find current script tag to insert widget. Appending to body."),document.body.appendChild(e));new Zo({target:e,props:{title:n("data-title",null),apiUrl:n("data-api-url",null),initialMessage:n("data-initial-message",null),buttonIcon:n("data-button-icon","💬"),buttonImageUrl:n("data-button-image-url",null),buttonOverlayText:n("data-button-overlay-text",null),buttonOverlayDelay:n("data-button-overlay-delay",5e3),quickMessages:(()=>{const e=n("data-quick-messages","[]");try{const t=JSON.parse(e);return Array.isArray(t)?t:[]}catch(e){return console.warn("Could not parse data-quick-messages. It should be a valid JSON array string.",e),[]}})(),ctaText:n("data-cta-text",null),openInNewTab:n("data-open-in-new-tab",!0),enableUTM:n("data-enable-utm",!0),position:r("bottom-right"),persistentSession:n("data-persistent-session",!1),sessionExpiration:n("data-session-expiration",24),theme:n("data-theme","light"),userMessageIcon:n("data-user-message-icon",null),botMessageIcon:n("data-bot-message-icon",null),userMessageBgColor:n("data-user-message-bg-color","#e0e0e0"),userMessageTextColor:n("data-user-message-text-color","#000000"),assistantMessageBgColor:n("data-assistant-message-bg-color","#f8f8f8"),assistantMessageTextColor:n("data-assistant-message-text-color","#000000"),chatButtonBgColor:n("data-chat-button-bg-color","#000000"),chatButtonTextColor:n("data-chat-button-text-color","#ffffff"),ctaButtonBgColor:n("data-cta-button-bg-color","#f8f8f8"),ctaButtonTextColor:n("data-cta-button-text-color","#000000"),ctaButtonHoverBgColor:n("data-cta-button-hover-bg-color",null),ctaButtonHoverTextColor:n("data-cta-button-hover-text-color",null),headerBgColor:n("data-header-bg-color",null),headerTextColor:n("data-header-text-color",null),footerText:n("data-footer-text",null),showPoweredBy:n("data-show-powered-by",!0),agentId:n("data-agent-id","xyz"),cms:n("data-cms",""),startOpen:n("data-start-open",!1),fullScreen:n("data-full-screen",!1),width:n("data-width","340px"),height:n("data-height","485px"),fontSize:n("data-font-size","16px"),isDemo:n("data-is-demo",!1),closable:n("data-closable",!0)}})}catch(o){console.error("Error initializing chat widget:",o)}})()}();
//# sourceMappingURL=chat-widget.min.js.map
